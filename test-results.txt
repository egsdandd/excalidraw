yarn run v1.22.22
$ vitest --run

[1m[7m[36m RUN [39m[27m[22m [36mv3.0.6 [39m[90mE:/excalidraw[39m

 [32mâœ“[39m packages/element/tests/textWrapping.test.ts [2m([22m[2m47 tests[22m[2m)[22m[90m 21[2mms[22m[39m
[90mstderr[2m | packages/excalidraw/data/transform.test.ts[2m > [22m[2mTest Transform[2m > [22m[2mTest arrow bindings[2m > [22m[2mshould bind arrows to existing elements if ids are correct
[22m[39mNo element for end binding with id rect-11 found

 [32mâœ“[39m packages/excalidraw/data/transform.test.ts [2m([22m[2m18 tests[22m[2m)[22m[90m 29[2mms[22m[39m
(node:20836) Warning: `--localstorage-file` was provided without a valid path
(Use `node --trace-warnings ...` to show where the warning was created)
(node:20536) Warning: `--localstorage-file` was provided without a valid path
(Use `node --trace-warnings ...` to show where the warning was created)
(node:21624) Warning: `--localstorage-file` was provided without a valid path
(Use `node --trace-warnings ...` to show where the warning was created)
(node:11192) Warning: `--localstorage-file` was provided without a valid path
(Use `node --trace-warnings ...` to show where the warning was created)
(node:17736) Warning: `--localstorage-file` was provided without a valid path
(Use `node --trace-warnings ...` to show where the warning was created)
(node:12420) Warning: `--localstorage-file` was provided without a valid path
(Use `node --trace-warnings ...` to show where the warning was created)
(node:20740) Warning: `--localstorage-file` was provided without a valid path
(Use `node --trace-warnings ...` to show where the warning was created)
(node:7088) Warning: `--localstorage-file` was provided without a valid path
(Use `node --trace-warnings ...` to show where the warning was created)
(node:15904) Warning: `--localstorage-file` was provided without a valid path
(Use `node --trace-warnings ...` to show where the warning was created)
(node:15952) Warning: `--localstorage-file` was provided without a valid path
(Use `node --trace-warnings ...` to show where the warning was created)
(node:3824) Warning: `--localstorage-file` was provided without a valid path
(Use `node --trace-warnings ...` to show where the warning was created)
(node:22600) Warning: `--localstorage-file` was provided without a valid path
(Use `node --trace-warnings ...` to show where the warning was created)
(node:19040) Warning: `--localstorage-file` was provided without a valid path
(Use `node --trace-warnings ...` to show where the warning was created)
(node:14784) Warning: `--localstorage-file` was provided without a valid path
(Use `node --trace-warnings ...` to show where the warning was created)
(node:16228) Warning: `--localstorage-file` was provided without a valid path
(Use `node --trace-warnings ...` to show where the warning was created)
(node:3648) Warning: `--localstorage-file` was provided without a valid path
(Use `node --trace-warnings ...` to show where the warning was created)
(node:22420) Warning: `--localstorage-file` was provided without a valid path
(Use `node --trace-warnings ...` to show where the warning was created)
(node:22824) Warning: `--localstorage-file` was provided without a valid path
(Use `node --trace-warnings ...` to show where the warning was created)
(node:7488) Warning: `--localstorage-file` was provided without a valid path
(Use `node --trace-warnings ...` to show where the warning was created)
(node:18904) Warning: `--localstorage-file` was provided without a valid path
(Use `node --trace-warnings ...` to show where the warning was created)
(node:12948) Warning: `--localstorage-file` was provided without a valid path
(Use `node --trace-warnings ...` to show where the warning was created)
(node:23308) Warning: `--localstorage-file` was provided without a valid path
(Use `node --trace-warnings ...` to show where the warning was created)
(node:20228) Warning: `--localstorage-file` was provided without a valid path
(Use `node --trace-warnings ...` to show where the warning was created)
(node:21644) Warning: `--localstorage-file` was provided without a valid path
(Use `node --trace-warnings ...` to show where the warning was created)
(node:23196) Warning: `--localstorage-file` was provided without a valid path
(Use `node --trace-warnings ...` to show where the warning was created)
(node:19668) Warning: `--localstorage-file` was provided without a valid path
(Use `node --trace-warnings ...` to show where the warning was created)
(node:20212) Warning: `--localstorage-file` was provided without a valid path
(Use `node --trace-warnings ...` to show where the warning was created)
 [31mâ¯[39m packages/excalidraw/components/Stats/stats.test.tsx [2m([22m[2m19 tests[22m[2m | [22m[31m17 failed[39m[2m)[22m[90m 15[2mms[22m[39m
   [32mâœ“[39m step sized value[2m > [22mshould return edge values correctly
   [32mâœ“[39m step sized value[2m > [22mstep sized value lies in the middle
[31m   [31mÃ—[31m binding with linear elements[2m > [22mshould remain bound to linear element on small position change[90m 5[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m binding with linear elements[2m > [22mshould unbind linear element on large position change[90m 1[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m stats for a generic element[2m > [22mshould open stats[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m stats for a generic element[2m > [22mshould be able to edit all properties for a general element[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m stats for a generic element[2m > [22mshould keep only two decimal places[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m stats for a generic element[2m > [22mshould update input x and y when angle is changed[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m stats for a generic element[2m > [22mshould fix top left corner when width or height is changed[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m stats for a non-generic element[2m > [22mtext element[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m stats for a non-generic element[2m > [22mframe element[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m stats for a non-generic element[2m > [22mimage element[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m stats for a non-generic element[2m > [22mshould display fontSize for bound text[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m stats for multiple elements[2m > [22mshould display MIXED for elements with different values[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m stats for multiple elements[2m > [22mshould display a property when one of the elements is editable for that property[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m stats for multiple elements[2m > [22mshould treat groups as single units[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m frame resizing behavior[2m > [22mshould add shapes to frame when resizing frame to encompass them[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m frame resizing behavior[2m > [22mshould add multiple shapes when frame encompasses them through height resize[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m frame resizing behavior[2m > [22mshould not affect shapes that remain outside frame after resize[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
 [31mâ¯[39m packages/element/tests/linearElementEditor.test.tsx [2m([22m[2m42 tests[22m[2m | [22m[31m41 failed[39m[2m | [22m[33m1 skipped[39m[2m)[22m[90m 17[2mms[22m[39m
[31m   [31mÃ—[31m Test Linear Elements[2m > [22mshould normalize the element points at creation[90m 6[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m Test Linear Elements[2m > [22mshould not drag line and add midpoint until dragged beyond a threshold[90m 1[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m Test Linear Elements[2m > [22mshould allow dragging line from midpoint in 2 pointer lines outside editor[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m Test Linear Elements[2m > [22mshould allow entering and exiting line editor via context menu[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m Test Linear Elements[2m > [22mshould enter line editor via enter (line)[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m Test Linear Elements[2m > [22mshould enter line editor via ctrl+enter (line)[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m Test Linear Elements[2m > [22mshould enter line editor via ctrl+enter (arrow)[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m Test Linear Elements[2m > [22mshould enter line editor on ctrl+dblclick (simple arrow)[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m Test Linear Elements[2m > [22mshould enter line editor on ctrl+dblclick (line)[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m Test Linear Elements[2m > [22mshould enter line editor on dblclick (line)[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m Test Linear Elements[2m > [22mshould not enter line editor on dblclick (arrow)[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m Test Linear Elements[2m > [22mshouldn't create text element on double click in line editor (arrow)[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m Test Linear Elements[2m > [22mInside editor[2m > [22mshould not drag line and add midpoint when dragged irrespective of threshold[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m Test Linear Elements[2m > [22mInside editor[2m > [22mshould allow dragging line from midpoint in 2 pointer lines[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m Test Linear Elements[2m > [22mInside editor[2m > [22mshould update the midpoints when element roundness changed[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m Test Linear Elements[2m > [22mInside editor[2m > [22mshould update all the midpoints when element position changed[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m Test Linear Elements[2m > [22mInside editor[2m > [22min-editor dragging a line point covered by another element[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m Test Linear Elements[2m > [22mInside editor[2m > [22mWhen edges are round[2m > [22mshould allow dragging lines from midpoints in between segments[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m Test Linear Elements[2m > [22mInside editor[2m > [22mWhen edges are round[2m > [22mshould update only the first segment midpoint when its point is dragged[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m Test Linear Elements[2m > [22mInside editor[2m > [22mWhen edges are round[2m > [22mshould hide midpoints in the segment when points moved close[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m Test Linear Elements[2m > [22mInside editor[2m > [22mWhen edges are round[2m > [22mshould remove the midpoint when one of the points in the segment is deleted[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m Test Linear Elements[2m > [22mInside editor[2m > [22mWhen edges are round[2m > [22mshould allow dragging lines from midpoints in between segments[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m Test Linear Elements[2m > [22mInside editor[2m > [22mWhen edges are round[2m > [22mshould update all the midpoints when its point is dragged[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m Test Linear Elements[2m > [22mInside editor[2m > [22mWhen edges are round[2m > [22mshould hide midpoints in the segment when points moved close[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m Test Linear Elements[2m > [22mInside editor[2m > [22mWhen edges are round[2m > [22mshould update all the midpoints when a point is deleted[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m Test Linear Elements[2m > [22mTest bound text element[2m > [22mshould match styles for text editor[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m Test Linear Elements[2m > [22mTest bound text element[2m > [22mshould bind text to arrow when double clicked[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m Test Linear Elements[2m > [22mTest bound text element[2m > [22mshould bind text to arrow when clicked on arrow and enter pressed[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m Test Linear Elements[2m > [22mTest bound text element[2m > [22mshould not bind text to line when double clicked[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
   [2m[90mâ†“[39m[22m Test Linear Elements[2m > [22mTest bound text element[2m > [22mshould not rotate the bound text and update position of bound text and bounding box correctly when arrow rotated
[31m   [31mÃ—[31m Test Linear Elements[2m > [22mTest bound text element[2m > [22mshould resize and position the bound text and bounding box correctly when 3 pointer arrow element resized[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m Test Linear Elements[2m > [22mTest bound text element[2m > [22mshould resize and position the bound text correctly when 2 pointer linear element resized[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m Test Linear Elements[2m > [22mTest bound text element[2m > [22mshould not render vertical align tool when element selected[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m Test Linear Elements[2m > [22mTest bound text element[2m > [22mshould wrap the bound text when arrow bound container moves[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m Test Linear Elements[2m > [22mTest bound text element[2m > [22mshould not render horizontal align tool when element selected[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m Test Linear Elements[2m > [22mTest bound text element[2m > [22mshould update label coords when a label binded via context menu is unbinded[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m Test Linear Elements[2m > [22mTest bound text element[2m > [22mshould not update label position when arrow dragged[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m Test Linear Elements[2m > [22mTest bound text element[2m > [22mTest getBoundTextElementPosition[2m > [22mshould return correct position for 2 pointer arrow[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m Test Linear Elements[2m > [22mTest bound text element[2m > [22mTest getBoundTextElementPosition[2m > [22mshould return correct position for arrow with odd points[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m Test Linear Elements[2m > [22mTest bound text element[2m > [22mTest getBoundTextElementPosition[2m > [22mshould return correct position for arrow with even points[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m Test Linear Elements[2m > [22mTest moving linear element points[2m > [22mshould move the endpoint in the negative direction correctly when the start point is also moved in the positive direction[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m Test Linear Elements[2m > [22mTest moving linear element points[2m > [22mshould preserve original angle when dragging endpoint with SHIFT key[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
 [32mâœ“[39m packages/element/tests/delta.test.tsx [2m([22m[2m14 tests[22m[2m)[22m[90m 9[2mms[22m[39m
 [31mâ¯[39m packages/element/tests/flowchart.test.tsx [2m([22m[2m7 tests[22m[2m | [22m[31m7 failed[39m[2m)[22m[90m 8[2mms[22m[39m
[31m   [31mÃ—[31m flow chart creation[2m > [22mcreate multiple successor nodes at once[90m 5[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m flow chart creation[2m > [22mwhen directions are changed, only the last same directions will apply[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m flow chart creation[2m > [22mwhen escaped, no nodes will be created[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m flow chart creation[2m > [22mcreate nodes one at a time[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m flow chart navigation[2m > [22msingle node at each level[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m flow chart navigation[2m > [22mmultiple nodes at each level[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m flow chart navigation[2m > [22mtake the most obvious link when possible[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
 [31mâ¯[39m packages/element/tests/cropElement.test.tsx [2m([22m[2m11 tests[22m[2m | [22m[31m11 failed[39m[2m)[22m[90m 11[2mms[22m[39m
[31m   [31mÃ—[31m Enter and leave the crop editor[2m > [22menter the editor by double clicking[90m 5[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m Enter and leave the crop editor[2m > [22menter the editor by pressing enter[90m 1[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m Enter and leave the crop editor[2m > [22mleave the editor by clicking outside[90m 1[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m Enter and leave the crop editor[2m > [22mleave the editor by pressing escape[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m Crop an image[2m > [22mCropping changes the dimension[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m Crop an image[2m > [22mCropping has minimal sizes[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m Crop an image[2m > [22mPreserve aspect ratio[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m Cropping and other features[2m > [22mCropping works independently of duplication[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m Cropping and other features[2m > [22mResizing should not affect crop[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m Cropping and other features[2m > [22mFlipping does not change crop[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m Cropping and other features[2m > [22mExports should preserve crops[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
 [31mâ¯[39m packages/element/tests/resize.test.tsx [2m([22m[2m55 tests[22m[2m | [22m[31m53 failed[39m[2m | [22m[33m2 skipped[39m[2m)[22m[90m 25[2mms[22m[39m
[31m   [31mÃ—[31m generic element[2m > [22mresizes with locked aspect ratio[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m generic element[2m > [22mresizes from center[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m generic element[2m > [22mresizes with a label[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m generic element[2m > [22mresizes[2m > [22mwith handle 'n'[90m 6[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m generic element[2m > [22mresizes[2m > [22mwith handle 'e'[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m generic element[2m > [22mresizes[2m > [22mwith handle 's'[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m generic element[2m > [22mresizes[2m > [22mwith handle 'w'[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m generic element[2m > [22mresizes[2m > [22mwith handle 'ne'[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m generic element[2m > [22mresizes[2m > [22mwith handle 'se'[90m 2[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m generic element[2m > [22mresizes[2m > [22mwith handle 'sw'[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m generic element[2m > [22mresizes[2m > [22mwith handle 'nw'[90m 1[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m generic element[2m > [22mflips while resizing[2m > [22mwith handle 'n'[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m generic element[2m > [22mflips while resizing[2m > [22mwith handle 'e'[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m generic element[2m > [22mflips while resizing[2m > [22mwith handle 's'[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m generic element[2m > [22mflips while resizing[2m > [22mwith handle 'w'[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m generic element[2m > [22mflips while resizing[2m > [22mwith handle 'ne'[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m generic element[2m > [22mflips while resizing[2m > [22mwith handle 'se'[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m generic element[2m > [22mflips while resizing[2m > [22mwith handle 'sw'[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m generic element[2m > [22mflips while resizing[2m > [22mwith handle 'nw'[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m line element[2m > [22mresizes[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m line element[2m > [22mflips while resizing[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m line element[2m > [22mresizes with locked aspect ratio[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m line element[2m > [22mresizes from center[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m freedraw element[2m > [22mresizes[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m freedraw element[2m > [22mflips while resizing[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m freedraw element[2m > [22mresizes with locked aspect ratio[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m freedraw element[2m > [22mresizes from center[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m line element[2m > [22mresizes[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m line element[2m > [22mflips while resizing[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m line element[2m > [22mresizes with locked aspect ratio[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m line element[2m > [22mresizes from center[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m arrow element[2m > [22mresizes with a label[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m arrow element[2m > [22mflips the fixed point binding on negative resize for single bindable[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m arrow element[2m > [22mflips the fixed point binding on negative resize for group selection[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m text element[2m > [22mresizes[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
   [2m[90mâ†“[39m[22m text element[2m > [22mflips while resizing
   [2m[90mâ†“[39m[22m text element[2m > [22mresizes from center
[31m   [31mÃ—[31m text element[2m > [22mupdates font size via keyboard[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m text element[2m > [22mcan be resized from e[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m text element[2m > [22mcan be resized from w[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m text element[2m > [22mwraps when width is narrower than texts inside[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m text element[2m > [22mkeeps properties when wrapped[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m text element[2m > [22mhas a minimum width when wrapped[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m image element[2m > [22mresizes[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m image element[2m > [22mflips while resizing[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m image element[2m > [22mresizes with locked/unlocked aspect ratio[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m image element[2m > [22mresizes from center[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m multiple selection[2m > [22mresizes with generic elements[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m multiple selection[2m > [22mresizes with linear elements > 2 points[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m multiple selection[2m > [22mresizes with 2-point lines[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m multiple selection[2m > [22mresizes with labeled arrows[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m multiple selection[2m > [22mresizes with text elements[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m multiple selection[2m > [22mresizes with images (proportional)[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m multiple selection[2m > [22mresizes from center[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m multiple selection[2m > [22mflips while resizing[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
 [31mâ¯[39m packages/excalidraw/tests/dragCreate.test.tsx [2m([22m[2m10 tests[22m[2m | [22m[31m10 failed[39m[2m)[22m[90m 9[2mms[22m[39m
[31m   [31mÃ—[31m Test dragCreate[2m > [22madd element to the scene when pointer dragging long enough[2m > [22mrectangle[90m 5[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m Test dragCreate[2m > [22madd element to the scene when pointer dragging long enough[2m > [22mellipse[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m Test dragCreate[2m > [22madd element to the scene when pointer dragging long enough[2m > [22mdiamond[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m Test dragCreate[2m > [22madd element to the scene when pointer dragging long enough[2m > [22marrow[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m Test dragCreate[2m > [22madd element to the scene when pointer dragging long enough[2m > [22mline[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m Test dragCreate[2m > [22mdo not add element to the scene if size is too small[2m > [22mrectangle[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m Test dragCreate[2m > [22mdo not add element to the scene if size is too small[2m > [22mellipse[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m Test dragCreate[2m > [22mdo not add element to the scene if size is too small[2m > [22mdiamond[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m Test dragCreate[2m > [22mdo not add element to the scene if size is too small[2m > [22marrow[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m Test dragCreate[2m > [22mdo not add element to the scene if size is too small[2m > [22mline[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
 [31mâ¯[39m packages/excalidraw/tests/contextmenu.test.tsx [2m([22m[2m17 tests[22m[2m | [22m[31m17 failed[39m[2m)[22m[90m 20[2mms[22m[39m
[31m   [31mÃ—[31m contextMenu element[2m > [22mshows context menu for canvas[90m 7[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m     â†’ Cannot read properties of undefined (reading 'length')[39m
[31m   [31mÃ—[31m contextMenu element[2m > [22mshows context menu for element[90m 1[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m     â†’ Cannot read properties of undefined (reading 'length')[39m
[31m   [31mÃ—[31m contextMenu element[2m > [22mshows context menu for element[90m 1[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m     â†’ Cannot read properties of undefined (reading 'length')[39m
[31m   [31mÃ—[31m contextMenu element[2m > [22mshows 'Group selection' in context menu for multiple selected elements[90m 1[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m     â†’ Cannot read properties of undefined (reading 'length')[39m
[31m   [31mÃ—[31m contextMenu element[2m > [22mshows 'Ungroup selection' in context menu for group inside selected elements[90m 1[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m     â†’ Cannot read properties of undefined (reading 'length')[39m
[31m   [31mÃ—[31m contextMenu element[2m > [22mselecting 'Copy styles' in context menu copies styles[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m     â†’ Cannot read properties of undefined (reading 'length')[39m
[31m   [31mÃ—[31m contextMenu element[2m > [22mselecting 'Paste styles' in context menu pastes styles[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m     â†’ Cannot read properties of undefined (reading 'length')[39m
[31m   [31mÃ—[31m contextMenu element[2m > [22mselecting 'Delete' in context menu deletes element[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m     â†’ Cannot read properties of undefined (reading 'length')[39m
[31m   [31mÃ—[31m contextMenu element[2m > [22mselecting 'Add to library' in context menu adds element to library[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m     â†’ Cannot read properties of undefined (reading 'length')[39m
[31m   [31mÃ—[31m contextMenu element[2m > [22mselecting 'Duplicate' in context menu duplicates element[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m     â†’ Cannot read properties of undefined (reading 'length')[39m
[31m   [31mÃ—[31m contextMenu element[2m > [22mselecting 'Send backward' in context menu sends element backward[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m     â†’ Cannot read properties of undefined (reading 'length')[39m
[31m   [31mÃ—[31m contextMenu element[2m > [22mselecting 'Bring forward' in context menu brings element forward[90m 5[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m     â†’ Cannot read properties of undefined (reading 'length')[39m
[31m   [31mÃ—[31m contextMenu element[2m > [22mselecting 'Send to back' in context menu sends element to back[90m 1[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m     â†’ Cannot read properties of undefined (reading 'length')[39m
[31m   [31mÃ—[31m contextMenu element[2m > [22mselecting 'Bring to front' in context menu brings element to front[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m     â†’ Cannot read properties of undefined (reading 'length')[39m
[31m   [31mÃ—[31m contextMenu element[2m > [22mselecting 'Group selection' in context menu groups selected elements[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m     â†’ Cannot read properties of undefined (reading 'length')[39m
[31m   [31mÃ—[31m contextMenu element[2m > [22mselecting 'Ungroup selection' in context menu ungroups selected group[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m     â†’ Cannot read properties of undefined (reading 'length')[39m
[31m   [31mÃ—[31m contextMenu element[2m > [22mright-clicking on a group should select whole group[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m     â†’ Cannot read properties of undefined (reading 'length')[39m
 [31mâ¯[39m packages/excalidraw/tests/selection.test.tsx [2m([22m[2m15 tests[22m[2m | [22m[31m15 failed[39m[2m)[22m[90m 9[2mms[22m[39m
[31m   [31mÃ—[31m box-selection[2m > [22mshould allow adding to selection via box-select when holding shift[90m 5[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m box-selection[2m > [22mshould (de)select element when box-selecting over and out while not holding shift[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m inner box-selection[2m > [22mselecting elements visually nested inside another[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m inner box-selection[2m > [22mselecting grouped elements visually nested inside another[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m inner box-selection[2m > [22mselecting & deselecting grouped elements visually nested inside another[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m selection element[2m > [22mcreate selection element on pointer down[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m selection element[2m > [22mresize selection element on pointer move[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m selection element[2m > [22mremove selection element on pointer up[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m select single element on the scene[2m > [22mrectangle[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m select single element on the scene[2m > [22mdiamond[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m select single element on the scene[2m > [22mellipse[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m select single element on the scene[2m > [22marrow[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m select single element on the scene[2m > [22marrow escape[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m tool locking & selection[2m > [22mshould not select newly created element while tool is locked[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m selectedElementIds stability[2m > [22mbox-selection should be stable when not changing selection[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
 [32mâœ“[39m packages/excalidraw/tests/data/restore.test.ts [2m([22m[2m40 tests[22m[2m)[22m[90m 31[2mms[22m[39m
 [32mâœ“[39m packages/element/tests/textElement.test.ts [2m([22m[2m28 tests[22m[2m)[22m[90m 10[2mms[22m[39m
 [31mâ¯[39m packages/element/tests/zindex.test.tsx [2m([22m[2m13 tests[22m[2m | [22m[31m13 failed[39m[2m)[22m[90m 11[2mms[22m[39m
[31m   [31mÃ—[31m z-index manipulation[2m > [22msend back[90m 6[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m z-index manipulation[2m > [22mbring forward[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m z-index manipulation[2m > [22mbring to front[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m z-index manipulation[2m > [22msend to back[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m z-index manipulation[2m > [22mduplicating elements should retain zindex integrity[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m z-index manipulation[2m > [22mduplicating incorrectly interleaved elements (group elements should be together) should still produce reasonable result[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m z-index manipulation[2m > [22mgroup-selected duplication should includes deleted elements that weren't selected on account of being deleted[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m z-index manipulation[2m > [22mtext-container binding should be atomic[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m z-indexing with frames[2m > [22mmoving whole frame by one (normalized)[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m z-indexing with frames[2m > [22mmoving whole frame by one (DENORMALIZED)[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m z-indexing with frames[2m > [22mmoving selected frame children by one (normalized)[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m z-indexing with frames[2m > [22mmoving selected frame children by one (DENORMALIZED)[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m z-indexing with frames[2m > [22mmoving whole frame to front/end[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
 [31mâ¯[39m packages/excalidraw/tests/lasso.test.tsx [2m([22m[2m6 tests[22m[2m | [22m[31m6 failed[39m[2m)[22m[90m 9[2mms[22m[39m
[31m   [31mÃ—[31m Basic lasso selection tests[2m > [22mNone should be selected[90m 6[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m Basic lasso selection tests[2m > [22mIntersects some, does not enclose/intersect the rest[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m Basic lasso selection tests[2m > [22mIntersects some and encloses some[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m Basic lasso selection tests[2m > [22mSingle linear element[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m Special cases[2m > [22mSelect only frame if its children are also selected[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m Special cases[2m > [22mSelects group if any group from group is selected[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
 [31mâ¯[39m packages/excalidraw/tests/regressionTests.test.tsx [2m([22m[2m51 tests[22m[2m | [22m[31m51 failed[39m[2m)[22m[90m 35[2mms[22m[39m
[31m   [31mÃ—[31m given element A and group of elements B and given both are selected when user clicks on B, on pointer up only elements from B should be selected[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m     â†’ Cannot read properties of undefined (reading 'length')[39m
[31m   [31mÃ—[31m given element A and group of elements B and given both are selected when user shift-clicks on B, on pointer up only element A should be selected[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m     â†’ Cannot read properties of undefined (reading 'length')[39m
[31m   [31mÃ—[31m regression tests[2m > [22mdraw every type of shape[90m 9[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m     â†’ Cannot read properties of undefined (reading 'length')[39m
[31m   [31mÃ—[31m regression tests[2m > [22mclick to select a shape[90m 1[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m     â†’ Cannot read properties of undefined (reading 'length')[39m
[31m   [31mÃ—[31m regression tests[2m > [22mkey 2 selects rectangle tool[90m 1[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m     â†’ Cannot read properties of undefined (reading 'length')[39m
[31m   [31mÃ—[31m regression tests[2m > [22mkey r selects rectangle tool[90m 1[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m     â†’ Cannot read properties of undefined (reading 'length')[39m
[31m   [31mÃ—[31m regression tests[2m > [22mkey 3 selects diamond tool[90m 1[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m     â†’ Cannot read properties of undefined (reading 'length')[39m
[31m   [31mÃ—[31m regression tests[2m > [22mkey d selects diamond tool[90m 1[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m     â†’ Cannot read properties of undefined (reading 'length')[39m
[31m   [31mÃ—[31m regression tests[2m > [22mkey 4 selects ellipse tool[90m 1[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m     â†’ Cannot read properties of undefined (reading 'length')[39m
[31m   [31mÃ—[31m regression tests[2m > [22mkey o selects ellipse tool[90m 1[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m     â†’ Cannot read properties of undefined (reading 'length')[39m
[31m   [31mÃ—[31m regression tests[2m > [22mkey 5 selects arrow tool[90m 1[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m     â†’ Cannot read properties of undefined (reading 'length')[39m
[31m   [31mÃ—[31m regression tests[2m > [22mkey a selects arrow tool[90m 1[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m     â†’ Cannot read properties of undefined (reading 'length')[39m
[31m   [31mÃ—[31m regression tests[2m > [22mkey 6 selects line tool[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m     â†’ Cannot read properties of undefined (reading 'length')[39m
[31m   [31mÃ—[31m regression tests[2m > [22mkey l selects line tool[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m     â†’ Cannot read properties of undefined (reading 'length')[39m
[31m   [31mÃ—[31m regression tests[2m > [22mkey 7 selects freedraw tool[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m     â†’ Cannot read properties of undefined (reading 'length')[39m
[31m   [31mÃ—[31m regression tests[2m > [22mkey p selects freedraw tool[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m     â†’ Cannot read properties of undefined (reading 'length')[39m
[31m   [31mÃ—[31m regression tests[2m > [22mchange the properties of a shape[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m     â†’ Cannot read properties of undefined (reading 'length')[39m
[31m   [31mÃ—[31m regression tests[2m > [22mclick on an element and drag it[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m     â†’ Cannot read properties of undefined (reading 'length')[39m
[31m   [31mÃ—[31m regression tests[2m > [22malt-drag duplicates an element[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m     â†’ Cannot read properties of undefined (reading 'length')[39m
[31m   [31mÃ—[31m regression tests[2m > [22mclick-drag to select a group[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m     â†’ Cannot read properties of undefined (reading 'length')[39m
[31m   [31mÃ—[31m regression tests[2m > [22mshift-click to multiselect, then drag[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m     â†’ Cannot read properties of undefined (reading 'length')[39m
[31m   [31mÃ—[31m regression tests[2m > [22mpinch-to-zoom works[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m     â†’ Cannot read properties of undefined (reading 'length')[39m
[31m   [31mÃ—[31m regression tests[2m > [22mtwo-finger scroll works[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m     â†’ Cannot read properties of undefined (reading 'length')[39m
[31m   [31mÃ—[31m regression tests[2m > [22mspacebar + drag scrolls the canvas[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m     â†’ Cannot read properties of undefined (reading 'length')[39m
[31m   [31mÃ—[31m regression tests[2m > [22marrow keys[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m     â†’ Cannot read properties of undefined (reading 'length')[39m
[31m   [31mÃ—[31m regression tests[2m > [22mundo/redo drawing an element[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m     â†’ Cannot read properties of undefined (reading 'length')[39m
[31m   [31mÃ—[31m regression tests[2m > [22mnoop interaction after undo shouldn't create history entry[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m     â†’ Cannot read properties of undefined (reading 'length')[39m
[31m   [31mÃ—[31m regression tests[2m > [22mzoom hotkeys[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m     â†’ Cannot read properties of undefined (reading 'length')[39m
[31m   [31mÃ—[31m regression tests[2m > [22mmake a group and duplicate it[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m     â†’ Cannot read properties of undefined (reading 'length')[39m
[31m   [31mÃ—[31m regression tests[2m > [22mshould group elements and ungroup them[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m     â†’ Cannot read properties of undefined (reading 'length')[39m
[31m   [31mÃ—[31m regression tests[2m > [22mdouble click to edit a group[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m     â†’ Cannot read properties of undefined (reading 'length')[39m
[31m   [31mÃ—[31m regression tests[2m > [22madjusts z order when grouping[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m     â†’ Cannot read properties of undefined (reading 'length')[39m
[31m   [31mÃ—[31m regression tests[2m > [22msupports nested groups[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m     â†’ Cannot read properties of undefined (reading 'length')[39m
[31m   [31mÃ—[31m regression tests[2m > [22mupdates fontSize & fontFamily appState[90m 1[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m     â†’ Cannot read properties of undefined (reading 'length')[39m
[31m   [31mÃ—[31m regression tests[2m > [22mdeselects selected element, on pointer up, when click hits element bounding box but doesn't hit the element[90m 1[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m     â†’ Cannot read properties of undefined (reading 'length')[39m
[31m   [31mÃ—[31m regression tests[2m > [22mswitches selected element on pointer down[90m 1[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m     â†’ Cannot read properties of undefined (reading 'length')[39m
[31m   [31mÃ—[31m regression tests[2m > [22mcan drag element that covers another element, while another elem is selected[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m     â†’ Cannot read properties of undefined (reading 'length')[39m
[31m   [31mÃ—[31m regression tests[2m > [22mdeselects selected element on pointer down when pointer doesn't hit any element[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m     â†’ Cannot read properties of undefined (reading 'length')[39m
[31m   [31mÃ—[31m regression tests[2m > [22mDrags selected element when hitting only bounding box and keeps element selected[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m     â†’ Cannot read properties of undefined (reading 'length')[39m
[31m   [31mÃ—[31m regression tests[2m > [22mgiven selected element A with lower z-index than unselected element B and given B is partially over A when clicking intersection between A and B B should be selected on pointer up[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m     â†’ Cannot read properties of undefined (reading 'length')[39m
[31m   [31mÃ—[31m regression tests[2m > [22mgiven selected element A with lower z-index than unselected element B and given B is partially over A when dragging on intersection between A and B A should be dragged and keep being selected[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m     â†’ Cannot read properties of undefined (reading 'length')[39m
[31m   [31mÃ—[31m regression tests[2m > [22mdeselects group of selected elements on pointer down when pointer doesn't hit any element[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m     â†’ Cannot read properties of undefined (reading 'length')[39m
[31m   [31mÃ—[31m regression tests[2m > [22mswitches from group of selected elements to another element on pointer down[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m     â†’ Cannot read properties of undefined (reading 'length')[39m
[31m   [31mÃ—[31m regression tests[2m > [22mdeselects group of selected elements on pointer up when pointer hits common bounding box without hitting any element[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m     â†’ Cannot read properties of undefined (reading 'length')[39m
[31m   [31mÃ—[31m regression tests[2m > [22mdrags selected elements from point inside common bounding box that doesn't hit any element and keeps elements selected after dragging[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m     â†’ Cannot read properties of undefined (reading 'length')[39m
[31m   [31mÃ—[31m regression tests[2m > [22mgiven a group of selected elements with an element that is not selected inside the group common bounding box when element that is not selected is clicked should switch selection to not selected element on pointer up[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m     â†’ Cannot read properties of undefined (reading 'length')[39m
[31m   [31mÃ—[31m regression tests[2m > [22mgiven a selected element A and a not selected element B with higher z-index than A and given B partially overlaps A when there's a shift-click on the overlapped section B is added to the selection[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m     â†’ Cannot read properties of undefined (reading 'length')[39m
[31m   [31mÃ—[31m regression tests[2m > [22mshift click on selected element should deselect it on pointer up[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m     â†’ Cannot read properties of undefined (reading 'length')[39m
[31m   [31mÃ—[31m regression tests[2m > [22msingle-clicking on a subgroup of a selected group should not alter selection[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m     â†’ Cannot read properties of undefined (reading 'length')[39m
[31m   [31mÃ—[31m regression tests[2m > [22mdeleting last but one element in editing group should unselect the group[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m     â†’ Cannot read properties of undefined (reading 'length')[39m
[31m   [31mÃ—[31m regression tests[2m > [22mCmd/Ctrl-click exclusively select element under pointer[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m     â†’ Cannot read properties of undefined (reading 'length')[39m
 [32mâœ“[39m packages/element/tests/frame.test.tsx [2m([22m[2m33 tests[22m[2m | [22m[33m30 skipped[39m[2m)[22m[33m 623[2mms[22m[39m
 [31mâ¯[39m packages/excalidraw/tests/clipboard.test.tsx [2m([22m[2m19 tests[22m[2m | [22m[31m19 failed[39m[2m)[22m[90m 12[2mms[22m[39m
[31m   [31mÃ—[31m general paste behavior[2m > [22mshould randomize seed on paste[90m 5[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m general paste behavior[2m > [22mshould retain seed on shift-paste[90m 1[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m paste text as single lines[2m > [22mshould create an element for each line when copying with Ctrl/Cmd+V[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m paste text as single lines[2m > [22mshould ignore empty lines when creating an element for each line[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m paste text as single lines[2m > [22mshould not create any element if clipboard has only new lines[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m paste text as single lines[2m > [22mshould space items correctly[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m paste text as single lines[2m > [22mshould leave a space for blank new lines[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m paste text as a single element[2m > [22mshould create single text element when copying text with Ctrl/Cmd+Shift+V[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m paste text as a single element[2m > [22mshould not create any element when only new lines in clipboard[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m Paste bound text container[2m > [22mshould fix ellipse bounding box[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m Paste bound text container[2m > [22mshould fix diamond bounding box[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m pasting & frames[2m > [22mshould add pasted elements to frame under cursor[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m pasting & frames[2m > [22mshould remove element from frame when pasted outside[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m pasting & frames[2m > [22mshould filter out elements not overlapping frame[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m pasting & frames[2m > [22mshould not filter out elements not overlapping frame if part of group[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m pasting & frames[2m > [22mshould not filter out other frames and their children[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m clipboard - pasting mermaid definition[2m > [22mshould detect and paste as mermaid[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m clipboard - pasting mermaid definition[2m > [22mshould support directives[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m clipboard - pasting mermaid definition[2m > [22mshould paste as normal text if invalid mermaid[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
 [31mâ¯[39m packages/excalidraw/tests/flip.test.tsx [2m([22m[2m46 tests[22m[2m | [22m[31m38 failed[39m[2m | [22m[33m8 skipped[39m[2m)[22m[90m 21[2mms[22m[39m
[31m   [31mÃ—[31m rectangle[2m > [22mflips an unrotated rectangle horizontally correctly[90m 7[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m rectangle[2m > [22mflips an unrotated rectangle vertically correctly[90m 1[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m rectangle[2m > [22mflips a rotated rectangle horizontally correctly[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m rectangle[2m > [22mflips a rotated rectangle vertically correctly[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m diamond[2m > [22mflips an unrotated diamond horizontally correctly[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m diamond[2m > [22mflips an unrotated diamond vertically correctly[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m diamond[2m > [22mflips a rotated diamond horizontally correctly[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m diamond[2m > [22mflips a rotated diamond vertically correctly[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m ellipse[2m > [22mflips an unrotated ellipse horizontally correctly[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m ellipse[2m > [22mflips an unrotated ellipse vertically correctly[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m ellipse[2m > [22mflips a rotated ellipse horizontally correctly[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m ellipse[2m > [22mflips a rotated ellipse vertically correctly[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m arrow[2m > [22mflips an unrotated arrow horizontally with line inside min/max points bounds[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m arrow[2m > [22mflips an unrotated arrow vertically with line inside min/max points bounds[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m arrow[2m > [22mflips a rotated arrow horizontally with line inside min/max points bounds[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m arrow[2m > [22mflips a rotated arrow vertically with line inside min/max points bounds[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
   [2m[90mâ†“[39m[22m arrow[2m > [22mflips an unrotated arrow horizontally with line outside min/max points bounds
   [2m[90mâ†“[39m[22m arrow[2m > [22mflips a rotated arrow horizontally with line outside min/max points bounds
   [2m[90mâ†“[39m[22m arrow[2m > [22mflips an unrotated arrow vertically with line outside min/max points bounds
   [2m[90mâ†“[39m[22m arrow[2m > [22mflips a rotated arrow vertically with line outside min/max points bounds
[31m   [31mÃ—[31m arrow[2m > [22mflips an unrotated arrow horizontally correctly[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m arrow[2m > [22mflips an unrotated arrow vertically correctly[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m arrow[2m > [22mflips a two points arrow horizontally correctly[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m arrow[2m > [22mflips a two points arrow vertically correctly[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m line[2m > [22mflips an unrotated line horizontally with line inside min/max points bounds[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m line[2m > [22mflips an unrotated line vertically with line inside min/max points bounds[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m line[2m > [22mflips an unrotated line horizontally correctly[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
   [2m[90mâ†“[39m[22m line[2m > [22mflips an unrotated line horizontally with line outside min/max points bounds
   [2m[90mâ†“[39m[22m line[2m > [22mflips an unrotated line vertically with line outside min/max points bounds
   [2m[90mâ†“[39m[22m line[2m > [22mflips a rotated line horizontally with line outside min/max points bounds
   [2m[90mâ†“[39m[22m line[2m > [22mflips a rotated line vertically with line outside min/max points bounds
[31m   [31mÃ—[31m line[2m > [22mflips an unrotated line vertically correctly[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m line[2m > [22mflips a rotated line horizontally with line inside min/max points bounds[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m line[2m > [22mflips a rotated line vertically with line inside min/max points bounds[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m line[2m > [22mflips a two points line horizontally correctly[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m line[2m > [22mflips a two points line vertically correctly[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m freedraw[2m > [22mflips an unrotated drawing horizontally correctly[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m freedraw[2m > [22mflips an unrotated drawing vertically correctly[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m freedraw[2m > [22mflips a rotated drawing horizontally correctly[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m freedraw[2m > [22mflips a rotated drawing vertically correctly[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m image[2m > [22mflips an unrotated image horizontally correctly[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m image[2m > [22mflips an unrotated image vertically correctly[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m image[2m > [22mflips an rotated image horizontally correctly[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m image[2m > [22mflips an rotated image vertically correctly[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m image[2m > [22mflips an image both vertically & horizontally[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m mutliple elements[2m > [22mwith bound text flip correctly[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
 [32mâœ“[39m packages/excalidraw/components/Sidebar/Sidebar.test.tsx [2m([22m[2m12 tests[22m[2m)[22m[33m 1162[2mms[22m[39m
 [32mâœ“[39m packages/excalidraw/actions/actionDuplicateSelection.test.tsx [2m([22m[2m17 tests[22m[2m)[22m[33m 1622[2mms[22m[39m
 [32mâœ“[39m packages/excalidraw/tests/data/reconcile.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 20[2mms[22m[39m
 [32mâœ“[39m packages/excalidraw/tests/excalidraw.test.tsx [2m([22m[2m26 tests[22m[2m)[22m[33m 1882[2mms[22m[39m
 [32mâœ“[39m packages/common/tests/keys.test.ts [2m([22m[2m8 tests[22m[2m)[22m[90m 6[2mms[22m[39m
 [32mâœ“[39m packages/element/tests/duplicate.test.tsx [2m([22m[2m20 tests[22m[2m)[22m[33m 1900[2mms[22m[39m
(node:1644) Warning: `--localstorage-file` was provided without a valid path
(Use `node --trace-warnings ...` to show where the warning was created)
(node:21100) Warning: `--localstorage-file` was provided without a valid path
(Use `node --trace-warnings ...` to show where the warning was created)
(node:17732) Warning: `--localstorage-file` was provided without a valid path
(Use `node --trace-warnings ...` to show where the warning was created)
(node:11388) Warning: `--localstorage-file` was provided without a valid path
(Use `node --trace-warnings ...` to show where the warning was created)
(node:21128) Warning: `--localstorage-file` was provided without a valid path
(Use `node --trace-warnings ...` to show where the warning was created)
(node:4700) Warning: `--localstorage-file` was provided without a valid path
(Use `node --trace-warnings ...` to show where the warning was created)
(node:17972) Warning: `--localstorage-file` was provided without a valid path
(Use `node --trace-warnings ...` to show where the warning was created)
(node:20052) Warning: `--localstorage-file` was provided without a valid path
(Use `node --trace-warnings ...` to show where the warning was created)
(node:14112) Warning: `--localstorage-file` was provided without a valid path
(Use `node --trace-warnings ...` to show where the warning was created)
(node:18060) Warning: `--localstorage-file` was provided without a valid path
(Use `node --trace-warnings ...` to show where the warning was created)
(node:21412) Warning: `--localstorage-file` was provided without a valid path
(Use `node --trace-warnings ...` to show where the warning was created)
(node:22384) Warning: `--localstorage-file` was provided without a valid path
(Use `node --trace-warnings ...` to show where the warning was created)
 [32mâœ“[39m packages/utils/tests/geometry.test.ts [2m([22m[2m6 tests[22m[2m)[22m[90m 6[2mms[22m[39m
 [32mâœ“[39m packages/element/tests/embeddable.test.ts [2m([22m[2m7 tests[22m[2m)[22m[90m 7[2mms[22m[39m
 [32mâœ“[39m packages/element/tests/binding.test.tsx [2m([22m[2m13 tests[22m[2m | [22m[33m1 skipped[39m[2m)[22m[33m 2717[2mms[22m[39m
   [33m[2mâœ“[22m[39m binding for simple arrows[2m > [22mwhen both endpoints are bound inside the same element[2m > [22mshould create an `inside` binding [33m533[2mms[22m[39m
(node:4492) Warning: `--localstorage-file` was provided without a valid path
(Use `node --trace-warnings ...` to show where the warning was created)
(node:10396) Warning: `--localstorage-file` was provided without a valid path
(Use `node --trace-warnings ...` to show where the warning was created)
 [32mâœ“[39m packages/element/tests/sortElements.test.ts [2m([22m[2m4 tests[22m[2m | [22m[33m2 skipped[39m[2m)[22m[90m 8[2mms[22m[39m
 [32mâœ“[39m packages/excalidraw/clipboard.test.ts [2m([22m[2m6 tests[22m[2m)[22m[90m 31[2mms[22m[39m
 [32mâœ“[39m packages/utils/tests/withinBounds.test.ts [2m([22m[2m9 tests[22m[2m)[22m[90m 8[2mms[22m[39m
 [31mâ¯[39m packages/excalidraw/tests/move.test.tsx [2m([22m[2m3 tests[22m[2m | [22m[31m3 failed[39m[2m)[22m[90m 7[2mms[22m[39m
[31m   [31mÃ—[31m move element[2m > [22mrectangle[90m 5[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m move element[2m > [22mrectangles with binding arrow[90m 1[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m duplicate element on move when ALT is clicked[2m > [22mrectangle[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
 [31mâ¯[39m packages/element/tests/elbowArrow.test.tsx [2m([22m[2m8 tests[22m[2m | [22m[31m8 failed[39m[2m)[22m[90m 9[2mms[22m[39m
[31m   [31mÃ—[31m elbow arrow segment move[2m > [22mcan move the second segment of a fully connected elbow arrow[90m 6[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m elbow arrow segment move[2m > [22mcan move the second segment of an unconnected elbow arrow[90m 1[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m elbow arrow routing[2m > [22mcan properly generate orthogonal arrow points[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m elbow arrow routing[2m > [22mcan generate proper points for bound elbow arrow[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m elbow arrow ui[2m > [22mcan follow bound shapes[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m elbow arrow ui[2m > [22mcan follow bound rotated shapes[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m elbow arrow ui[2m > [22mkeeps arrow shape when the whole set of arrow and bindables are duplicated[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m elbow arrow ui[2m > [22mchanges arrow shape to unbind variant if only the connected elbow arrow is duplicated[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
 [31mâ¯[39m packages/excalidraw/tests/multiPointCreate.test.tsx [2m([22m[2m5 tests[22m[2m | [22m[31m5 failed[39m[2m)[22m[90m 7[2mms[22m[39m
[31m   [31mÃ—[31m remove shape in non linear elements[2m > [22mrectangle[90m 5[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m remove shape in non linear elements[2m > [22mellipse[90m 1[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m remove shape in non linear elements[2m > [22mdiamond[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m multi point mode in linear elements[2m > [22marrow[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m multi point mode in linear elements[2m > [22mline[90m 0[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
(node:5220) Warning: `--localstorage-file` was provided without a valid path
(Use `node --trace-warnings ...` to show where the warning was created)
(node:21248) Warning: `--localstorage-file` was provided without a valid path
(Use `node --trace-warnings ...` to show where the warning was created)
 [32mâœ“[39m packages/math/tests/ellipse.test.ts [2m([22m[2m6 tests[22m[2m)[22m[90m 5[2mms[22m[39m
(node:21444) Warning: `--localstorage-file` was provided without a valid path
(Use `node --trace-warnings ...` to show where the warning was created)
 [32mâœ“[39m packages/excalidraw/tests/library.test.tsx [2m([22m[2m7 tests[22m[2m)[22m[33m 864[2mms[22m[39m
 [32mâœ“[39m packages/excalidraw/actions/actionFlip.test.tsx [2m([22m[2m5 tests[22m[2m)[22m[33m 735[2mms[22m[39m
   [33m[2mâœ“[22m[39m flipping re-centers selection[2m > [22melbow arrow touches group selection side yet it remains in place after multiple moves [33m301[2mms[22m[39m
 [32mâœ“[39m packages/excalidraw/tests/export.test.tsx [2m([22m[2m8 tests[22m[2m)[22m[33m 880[2mms[22m[39m
 [32mâœ“[39m packages/utils/tests/export.test.ts [2m([22m[2m9 tests[22m[2m | [22m[33m1 skipped[39m[2m)[22m[90m 101[2mms[22m[39m
(node:24284) Warning: `--localstorage-file` was provided without a valid path
(Use `node --trace-warnings ...` to show where the warning was created)
 [32mâœ“[39m packages/element/tests/bounds.test.ts [2m([22m[2m8 tests[22m[2m)[22m[90m 6[2mms[22m[39m
[90mstderr[2m | excalidraw-app/tests/collab.test.tsx[2m > [22m[2mcollaboration[2m > [22m[2mshould emit two ephemeral increments even though updates get batched
[22m[39mTypeError: localStorage.getItem is not a function
    at [90mE:\excalidraw\[39mexcalidraw-app\useHandleAppTheme.ts:15:21
    at mountStateImpl [90m(E:\excalidraw\[39mnode_modules\[4mreact-dom[24m\cjs\react-dom-client.development.js:6355:24[90m)[39m
    at mountState [90m(E:\excalidraw\[39mnode_modules\[4mreact-dom[24m\cjs\react-dom-client.development.js:6376:22[90m)[39m
    at Object.useState [90m(E:\excalidraw\[39mnode_modules\[4mreact-dom[24m\cjs\react-dom-client.development.js:22784:18[90m)[39m
    at Proxy.process.env.NODE_ENV.exports.useState [90m(E:\excalidraw\[39mnode_modules\[4mreact[24m\cjs\react.development.js:1500:34[90m)[39m
    at Module.useHandleAppTheme [90m(E:\excalidraw\[39mexcalidraw-app\useHandleAppTheme.ts:13:35[90m)[39m
    at ExcalidrawWrapper [90m(E:\excalidraw\[39mexcalidraw-app\App.tsx:345:50[90m)[39m
    at Object.react-stack-bottom-frame [90m(E:\excalidraw\[39mnode_modules\[4mreact-dom[24m\cjs\react-dom-client.development.js:22428:20[90m)[39m
    at renderWithHooks [90m(E:\excalidraw\[39mnode_modules\[4mreact-dom[24m\cjs\react-dom-client.development.js:5757:22[90m)[39m
    at updateFunctionComponent [90m(E:\excalidraw\[39mnode_modules\[4mreact-dom[24m\cjs\react-dom-client.development.js:8018:19[90m)[39m {
  [stack]: [36m[Getter/Setter][39m,
  [message]: [32m'localStorage.getItem is not a function'[39m
}

The above error occurred in the <ExcalidrawWrapper> component.

React will try to recreate this component tree from scratch using the error boundary you provided, TopErrorBoundary.


[90mstderr[2m | excalidraw-app/tests/collab.test.tsx[2m > [22m[2mcollaboration[2m > [22m[2mshould allow to undo / redo even on force-deleted elements
[22m[39mTypeError: localStorage.getItem is not a function
    at [90mE:\excalidraw\[39mexcalidraw-app\useHandleAppTheme.ts:15:21
    at mountStateImpl [90m(E:\excalidraw\[39mnode_modules\[4mreact-dom[24m\cjs\react-dom-client.development.js:6355:24[90m)[39m
    at mountState [90m(E:\excalidraw\[39mnode_modules\[4mreact-dom[24m\cjs\react-dom-client.development.js:6376:22[90m)[39m
    at Object.useState [90m(E:\excalidraw\[39mnode_modules\[4mreact-dom[24m\cjs\react-dom-client.development.js:22784:18[90m)[39m
    at Proxy.process.env.NODE_ENV.exports.useState [90m(E:\excalidraw\[39mnode_modules\[4mreact[24m\cjs\react.development.js:1500:34[90m)[39m
    at Module.useHandleAppTheme [90m(E:\excalidraw\[39mexcalidraw-app\useHandleAppTheme.ts:13:35[90m)[39m
    at ExcalidrawWrapper [90m(E:\excalidraw\[39mexcalidraw-app\App.tsx:345:50[90m)[39m
    at Object.react-stack-bottom-frame [90m(E:\excalidraw\[39mnode_modules\[4mreact-dom[24m\cjs\react-dom-client.development.js:22428:20[90m)[39m
    at renderWithHooks [90m(E:\excalidraw\[39mnode_modules\[4mreact-dom[24m\cjs\react-dom-client.development.js:5757:22[90m)[39m
    at updateFunctionComponent [90m(E:\excalidraw\[39mnode_modules\[4mreact-dom[24m\cjs\react-dom-client.development.js:8018:19[90m)[39m {
  [stack]: [36m[Getter/Setter][39m,
  [message]: [32m'localStorage.getItem is not a function'[39m
}

The above error occurred in the <ExcalidrawWrapper> component.

React will try to recreate this component tree from scratch using the error boundary you provided, TopErrorBoundary.


 [31mâ¯[39m excalidraw-app/tests/collab.test.tsx [2m([22m[2m2 tests[22m[2m | [22m[31m2 failed[39m[2m)[22m[90m 36[2mms[22m[39m
[31m   [31mÃ—[31m collaboration[2m > [22mshould emit two ephemeral increments even though updates get batched[90m 31[2mms[22m[31m[39m
[31m     â†’ Missing Provider from createIsolation[39m
[31m   [31mÃ—[31m collaboration[2m > [22mshould allow to undo / redo even on force-deleted elements[90m 4[2mms[22m[31m[39m
[31m     â†’ Missing Provider from createIsolation[39m
(node:18748) Warning: `--localstorage-file` was provided without a valid path
(Use `node --trace-warnings ...` to show where the warning was created)
 [32mâœ“[39m packages/excalidraw/actions/actionProperties.test.tsx [2m([22m[2m9 tests[22m[2m)[22m[33m 930[2mms[22m[39m
[90mstderr[2m | packages/excalidraw/wysiwyg/textWysiwyg.test.tsx[2m > [22m[2mtextWysiwyg[2m > [22m[2mTest container-bound text[2m > [22m[2mshould bind text to container when triggered via context menu
[22m[39mflushSync was called from inside a lifecycle method. React cannot flush when React is already rendering. Consider moving this call to a scheduler task or micro task.

 [32mâœ“[39m packages/excalidraw/data/library.test.ts [2m([22m[2m1 test[22m[2m)[22m[90m 5[2mms[22m[39m
 [32mâœ“[39m packages/excalidraw/actions/actionDeleteSelected.test.tsx [2m([22m[2m6 tests[22m[2m)[22m[33m 821[2mms[22m[39m
 [32mâœ“[39m packages/excalidraw/tests/elementLocking.test.tsx [2m([22m[2m15 tests[22m[2m)[22m[33m 1779[2mms[22m[39m
 [32mâœ“[39m packages/math/tests/curve.test.ts [2m([22m[2m6 tests[22m[2m)[22m[90m 4[2mms[22m[39m
 [32mâœ“[39m packages/excalidraw/charts.test.ts [2m([22m[2m18 tests[22m[2m)[22m[90m 6[2mms[22m[39m
 [32mâœ“[39m packages/common/src/utils.test.ts [2m([22m[2m7 tests[22m[2m)[22m[90m 4[2mms[22m[39m
(node:9184) Warning: `--localstorage-file` was provided without a valid path
(Use `node --trace-warnings ...` to show where the warning was created)
(node:2852) Warning: `--localstorage-file` was provided without a valid path
(Use `node --trace-warnings ...` to show where the warning was created)
(node:6376) Warning: `--localstorage-file` was provided without a valid path
(Use `node --trace-warnings ...` to show where the warning was created)
 [32mâœ“[39m packages/excalidraw/tests/fitToContent.test.tsx [2m([22m[2m5 tests[22m[2m)[22m[33m 696[2mms[22m[39m
 [32mâœ“[39m packages/excalidraw/tests/search.test.tsx [2m([22m[2m5 tests[22m[2m)[22m[33m 2212[2mms[22m[39m
   [33m[2mâœ“[22m[39m search[2m > [22mshould match text and cycle through matches on Enter [33m556[2mms[22m[39m
   [33m[2mâœ“[22m[39m search[2m > [22mshould match text split across multiple lines [33m889[2mms[22m[39m
   [33m[2mâœ“[22m[39m search[2m > [22mshould match frame names [33m465[2mms[22m[39m
 [32mâœ“[39m packages/excalidraw/components/DefaultSidebar.test.tsx [2m([22m[2m7 tests[22m[2m)[22m[33m 946[2mms[22m[39m
(node:4352) Warning: `--localstorage-file` was provided without a valid path
(Use `node --trace-warnings ...` to show where the warning was created)
 [32mâœ“[39m packages/element/tests/fractionalIndex.test.ts [2m([22m[2m48 tests[22m[2m)[22m[33m 4719[2mms[22m[39m
   [33m[2mâœ“[22m[39m sync invalid indices with array order[2m > [22mshould be able to sync 20K invalid indices[2m > [22mshould sync all empty indices[2m > [22mshould sync invalid indices of moved elements or fallback [33m805[2mms[22m[39m
   [33m[2mâœ“[22m[39m sync invalid indices with array order[2m > [22mshould be able to sync 20K invalid indices[2m > [22mshould sync all empty indices[2m > [22mshould sync invalid indices of all elements [33m793[2mms[22m[39m
   [33m[2mâœ“[22m[39m sync invalid indices with array order[2m > [22mshould be able to sync 20K invalid indices[2m > [22mshould sync all but last index given a growing array of indices[2m > [22mshould sync invalid indices of moved elements or fallback [33m800[2mms[22m[39m
   [33m[2mâœ“[22m[39m sync invalid indices with array order[2m > [22mshould be able to sync 20K invalid indices[2m > [22mshould sync all but last index given a growing array of indices[2m > [22mshould sync invalid indices of all elements [33m811[2mms[22m[39m
   [33m[2mâœ“[22m[39m sync invalid indices with array order[2m > [22mshould be able to sync 20K invalid indices[2m > [22mshould sync all but first index given a declining array of indices[2m > [22mshould sync invalid indices of moved elements or fallback [33m745[2mms[22m[39m
   [33m[2mâœ“[22m[39m sync invalid indices with array order[2m > [22mshould be able to sync 20K invalid indices[2m > [22mshould sync all but first index given a declining array of indices[2m > [22mshould sync invalid indices of all elements [33m743[2mms[22m[39m
 [32mâœ“[39m packages/excalidraw/tests/scroll.test.tsx [2m([22m[2m2 tests[22m[2m)[22m[33m 369[2mms[22m[39m
 [32mâœ“[39m packages/excalidraw/components/Trans.test.tsx [2m([22m[2m1 test[22m[2m)[22m[90m 34[2mms[22m[39m
 [32mâœ“[39m packages/element/tests/sizeHelpers.test.ts [2m([22m[2m7 tests[22m[2m)[22m[90m 3[2mms[22m[39m
(node:4068) Warning: `--localstorage-file` was provided without a valid path
(Use `node --trace-warnings ...` to show where the warning was created)
 [32mâœ“[39m packages/element/tests/distribute.test.tsx [2m([22m[2m4 tests[22m[2m)[22m[33m 1155[2mms[22m[39m
   [33m[2mâœ“[22m[39m distributing[2m > [22mshould distribute selected elements horizontally [33m445[2mms[22m[39m
(node:20336) Warning: `--localstorage-file` was provided without a valid path
(Use `node --trace-warnings ...` to show where the warning was created)
(node:20244) Warning: `--localstorage-file` was provided without a valid path
(Use `node --trace-warnings ...` to show where the warning was created)
(node:14784) Warning: `--localstorage-file` was provided without a valid path
(Use `node --trace-warnings ...` to show where the warning was created)
(node:22268) Warning: `--localstorage-file` was provided without a valid path
(Use `node --trace-warnings ...` to show where the warning was created)
 [32mâœ“[39m packages/excalidraw/components/hoc/withInternalFallback.test.tsx [2m([22m[2m4 tests[22m[2m)[22m[33m 539[2mms[22m[39m
(node:24572) Warning: `--localstorage-file` was provided without a valid path
(Use `node --trace-warnings ...` to show where the warning was created)
(node:10912) Warning: `--localstorage-file` was provided without a valid path
(Use `node --trace-warnings ...` to show where the warning was created)
(node:20300) Warning: `--localstorage-file` was provided without a valid path
(Use `node --trace-warnings ...` to show where the warning was created)
 [32mâœ“[39m packages/math/tests/range.test.ts [2m([22m[2m7 tests[22m[2m)[22m[90m 4[2mms[22m[39m
[90mstderr[2m | packages/excalidraw/tests/MermaidToExcalidraw.test.tsx[2m > [22m[2mTest <MermaidToExcalidraw/>[2m > [22m[2mshould open mermaid popup when active tool is mermaid
[22m[39mlocalStorage.getItem error: window.localStorage.getItem is not a function

 [32mâœ“[39m packages/utils/tests/utils.unmocked.test.ts [2m([22m[2m2 tests[22m[2m | [22m[33m1 skipped[39m[2m)[22m[90m 21[2mms[22m[39m
[90mstderr[2m | packages/excalidraw/tests/MermaidToExcalidraw.test.tsx[2m > [22m[2mTest <MermaidToExcalidraw/>[2m > [22m[2mshould open mermaid popup when active tool is mermaid
[22m[39mlocalStorage.setItem error: window.localStorage.setItem is not a function

 [31mâ¯[39m packages/excalidraw/tests/rotate.test.tsx [2m([22m[2m2 tests[22m[2m | [22m[31m2 failed[39m[2m)[22m[90m 6[2mms[22m[39m
[31m   [31mÃ—[31m unselected bound arrow updates when rotating its target element[90m 5[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[31m   [31mÃ—[31m unselected bound arrows update when rotating their target elements[90m 1[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
[90mstderr[2m | packages/excalidraw/tests/MermaidToExcalidraw.test.tsx[2m > [22m[2mTest <MermaidToExcalidraw/>[2m > [22m[2mshould show error in preview when mermaid library throws error
[22m[39mlocalStorage.getItem error: window.localStorage.getItem is not a function

[90mstderr[2m | packages/excalidraw/tests/MermaidToExcalidraw.test.tsx[2m > [22m[2mTest <MermaidToExcalidraw/>[2m > [22m[2mshould show error in preview when mermaid library throws error
[22m[39m[33m<<< WARNING: test "Test <MermaidToExcalidraw/> > should show error in preview when mermaid library throws error" does not wrap some state update in act() >>>[0m
localStorage.setItem error: window.localStorage.setItem is not a function

 [32mâœ“[39m packages/excalidraw/tests/MermaidToExcalidraw.test.tsx [2m([22m[2m2 tests[22m[2m)[22m[33m 318[2mms[22m[39m
 [32mâœ“[39m packages/common/tests/url.test.tsx [2m([22m[2m1 test[22m[2m)[22m[90m 3[2mms[22m[39m
 [32mâœ“[39m packages/common/tests/queue.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 173[2mms[22m[39m
 [32mâœ“[39m packages/element/tests/selection.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 3[2mms[22m[39m
 [32mâœ“[39m packages/excalidraw/tests/appState.test.tsx [2m([22m[2m2 tests[22m[2m)[22m[33m 434[2mms[22m[39m
 [32mâœ“[39m packages/excalidraw/tests/image.test.tsx [2m([22m[2m3 tests[22m[2m)[22m[33m 603[2mms[22m[39m
   [33m[2mâœ“[22m[39m image insertion[2m > [22mshould eventually initialize all dropped images [33m322[2mms[22m[39m
(node:19756) Warning: `--localstorage-file` was provided without a valid path
(Use `node --trace-warnings ...` to show where the warning was created)
(node:21420) Warning: `--localstorage-file` was provided without a valid path
(Use `node --trace-warnings ...` to show where the warning was created)
 [32mâœ“[39m packages/excalidraw/tests/actionStyles.test.tsx [2m([22m[2m1 test[22m[2m)[22m[33m 667[2mms[22m[39m
   [33m[2mâœ“[22m[39m actionStyles[2m > [22mshould copy & paste styles via keyboard [33m665[2mms[22m[39m
(node:24480) Warning: `--localstorage-file` was provided without a valid path
(Use `node --trace-warnings ...` to show where the warning was created)
 [32mâœ“[39m packages/excalidraw/tests/clients.test.ts [2m([22m[2m8 tests[22m[2m)[22m[90m 3[2mms[22m[39m
 [32mâœ“[39m packages/math/tests/line.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 3[2mms[22m[39m
(node:22940) Warning: `--localstorage-file` was provided without a valid path
(Use `node --trace-warnings ...` to show where the warning was created)
(node:7712) Warning: `--localstorage-file` was provided without a valid path
(Use `node --trace-warnings ...` to show where the warning was created)
(node:23508) Warning: `--localstorage-file` was provided without a valid path
(Use `node --trace-warnings ...` to show where the warning was created)
 [32mâœ“[39m packages/excalidraw/actions/actionElementLock.test.tsx [2m([22m[2m2 tests[22m[2m)[22m[33m 315[2mms[22m[39m
 [32mâœ“[39m packages/excalidraw/tests/packages/events.test.tsx [2m([22m[2m2 tests[22m[2m)[22m[90m 272[2mms[22m[39m
 [32mâœ“[39m packages/excalidraw/tests/viewMode.test.tsx [2m([22m[2m3 tests[22m[2m)[22m[33m 426[2mms[22m[39m
 [32mâœ“[39m packages/element/tests/typeChecks.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 3[2mms[22m[39m
 [32mâœ“[39m packages/excalidraw/mermaid.test.ts [2m([22m[2m1 test[22m[2m)[22m[90m 2[2mms[22m[39m
 [32mâœ“[39m packages/excalidraw/tests/tool.test.tsx [2m([22m[2m4 tests[22m[2m)[22m[33m 446[2mms[22m[39m
 [32mâœ“[39m packages/math/tests/point.test.ts [2m([22m[2m1 test[22m[2m)[22m[90m 2[2mms[22m[39m
 [32mâœ“[39m packages/math/tests/segment.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 2[2mms[22m[39m
 [31mâ¯[39m packages/excalidraw/tests/App.test.tsx [2m([22m[2m1 test[22m[2m | [22m[31m1 failed[39m[2m)[22m[90m 4[2mms[22m[39m
[31m   [31mÃ—[31m Test <App/>[2m > [22mshould show error modal when using brave and measureText API is not working[90m 3[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
 [32mâœ“[39m packages/math/tests/vector.test.ts [2m([22m[2m1 test[22m[2m)[22m[90m 1[2mms[22m[39m
[90mstderr[2m | excalidraw-app/tests/LanguageList.test.tsx
[22m[39mError JSON parsing firebase config. Supplied value: undefined

 [32mâœ“[39m packages/excalidraw/tests/scene/export.test.ts [2m([22m[2m15 tests[22m[2m)[22m[33m 8558[2mms[22m[39m
   [33m[2mâœ“[22m[39m exportToSvg[2m > [22mwith default arguments [33m923[2mms[22m[39m
   [33m[2mâœ“[22m[39m exportToSvg[2m > [22mwith a CJK font [33m7027[2mms[22m[39m
 [31mâ¯[39m packages/element/tests/collision.test.tsx [2m([22m[2m1 test[22m[2m | [22m[31m1 failed[39m[2m)[22m[90m 3[2mms[22m[39m
[31m   [31mÃ—[31m check rotated elements can be hit:[2m > [22marrow[90m 3[2mms[22m[31m[39m
[31m     â†’ localStorage.clear is not a function[39m
(node:21340) Warning: `--localstorage-file` was provided without a valid path
(Use `node --trace-warnings ...` to show where the warning was created)
 [32mâœ“[39m packages/excalidraw/tests/charts.test.tsx [2m([22m[2m1 test[22m[2m)[22m[90m 3[2mms[22m[39m
[90mstderr[2m | excalidraw-app/tests/LanguageList.test.tsx[2m > [22m[2mTest LanguageList[2m > [22m[2mrerenders UI on language change
[22m[39mTypeError: localStorage.getItem is not a function
    at [90mE:\excalidraw\[39mexcalidraw-app\useHandleAppTheme.ts:15:21
    at mountStateImpl [90m(E:\excalidraw\[39mnode_modules\[4mreact-dom[24m\cjs\react-dom-client.development.js:6355:24[90m)[39m
    at mountState [90m(E:\excalidraw\[39mnode_modules\[4mreact-dom[24m\cjs\react-dom-client.development.js:6376:22[90m)[39m
    at Object.useState [90m(E:\excalidraw\[39mnode_modules\[4mreact-dom[24m\cjs\react-dom-client.development.js:22784:18[90m)[39m
    at Proxy.process.env.NODE_ENV.exports.useState [90m(E:\excalidraw\[39mnode_modules\[4mreact[24m\cjs\react.development.js:1500:34[90m)[39m
    at Module.useHandleAppTheme [90m(E:\excalidraw\[39mexcalidraw-app\useHandleAppTheme.ts:13:35[90m)[39m
    at ExcalidrawWrapper [90m(E:\excalidraw\[39mexcalidraw-app\App.tsx:345:50[90m)[39m
    at Object.react-stack-bottom-frame [90m(E:\excalidraw\[39mnode_modules\[4mreact-dom[24m\cjs\react-dom-client.development.js:22428:20[90m)[39m
    at renderWithHooks [90m(E:\excalidraw\[39mnode_modules\[4mreact-dom[24m\cjs\react-dom-client.development.js:5757:22[90m)[39m
    at updateFunctionComponent [90m(E:\excalidraw\[39mnode_modules\[4mreact-dom[24m\cjs\react-dom-client.development.js:8018:19[90m)[39m {
  [stack]: [36m[Getter/Setter][39m,
  [message]: [32m'localStorage.getItem is not a function'[39m
}

The above error occurred in the <ExcalidrawWrapper> component.

React will try to recreate this component tree from scratch using the error boundary you provided, TopErrorBoundary.


 [31mâ¯[39m excalidraw-app/tests/LanguageList.test.tsx [2m([22m[2m1 test[22m[2m | [22m[31m1 failed[39m[2m)[22m[90m 21[2mms[22m[39m
[31m   [31mÃ—[31m Test LanguageList[2m > [22mrerenders UI on language change[90m 20[2mms[22m[31m[39m
[31m     â†’ Missing Provider from createIsolation[39m
[90mstderr[2m | excalidraw-app/tests/MobileMenu.test.tsx
[22m[39mError JSON parsing firebase config. Supplied value: undefined

 [32mâœ“[39m packages/excalidraw/tests/shortcuts.test.tsx [2m([22m[2m1 test[22m[2m)[22m[90m 135[2mms[22m[39m
[90mstderr[2m | excalidraw-app/tests/MobileMenu.test.tsx[2m > [22m[2mTest MobileMenu[2m > [22m[2mshould set editor interface correctly
[22m[39mTypeError: localStorage.getItem is not a function
    at [90mE:\excalidraw\[39mexcalidraw-app\useHandleAppTheme.ts:15:21
    at mountStateImpl [90m(E:\excalidraw\[39mnode_modules\[4mreact-dom[24m\cjs\react-dom-client.development.js:6355:24[90m)[39m
    at mountState [90m(E:\excalidraw\[39mnode_modules\[4mreact-dom[24m\cjs\react-dom-client.development.js:6376:22[90m)[39m
    at Object.useState [90m(E:\excalidraw\[39mnode_modules\[4mreact-dom[24m\cjs\react-dom-client.development.js:22784:18[90m)[39m
    at Proxy.process.env.NODE_ENV.exports.useState [90m(E:\excalidraw\[39mnode_modules\[4mreact[24m\cjs\react.development.js:1500:34[90m)[39m
    at Module.useHandleAppTheme [90m(E:\excalidraw\[39mexcalidraw-app\useHandleAppTheme.ts:13:35[90m)[39m
    at ExcalidrawWrapper [90m(E:\excalidraw\[39mexcalidraw-app\App.tsx:345:50[90m)[39m
    at Object.react-stack-bottom-frame [90m(E:\excalidraw\[39mnode_modules\[4mreact-dom[24m\cjs\react-dom-client.development.js:22428:20[90m)[39m
    at renderWithHooks [90m(E:\excalidraw\[39mnode_modules\[4mreact-dom[24m\cjs\react-dom-client.development.js:5757:22[90m)[39m
    at updateFunctionComponent [90m(E:\excalidraw\[39mnode_modules\[4mreact-dom[24m\cjs\react-dom-client.development.js:8018:19[90m)[39m {
  [stack]: [36m[Getter/Setter][39m,
  [message]: [32m'localStorage.getItem is not a function'[39m
}

The above error occurred in the <ExcalidrawWrapper> component.

React will try to recreate this component tree from scratch using the error boundary you provided, TopErrorBoundary.


[90mstderr[2m | excalidraw-app/tests/MobileMenu.test.tsx[2m > [22m[2mTest MobileMenu[2m > [22m[2mshould initialize with welcome screen and hide once user interacts
[22m[39mTypeError: localStorage.getItem is not a function
    at [90mE:\excalidraw\[39mexcalidraw-app\useHandleAppTheme.ts:15:21
    at mountStateImpl [90m(E:\excalidraw\[39mnode_modules\[4mreact-dom[24m\cjs\react-dom-client.development.js:6355:24[90m)[39m
    at mountState [90m(E:\excalidraw\[39mnode_modules\[4mreact-dom[24m\cjs\react-dom-client.development.js:6376:22[90m)[39m
    at Object.useState [90m(E:\excalidraw\[39mnode_modules\[4mreact-dom[24m\cjs\react-dom-client.development.js:22784:18[90m)[39m
    at Proxy.process.env.NODE_ENV.exports.useState [90m(E:\excalidraw\[39mnode_modules\[4mreact[24m\cjs\react.development.js:1500:34[90m)[39m
    at Module.useHandleAppTheme [90m(E:\excalidraw\[39mexcalidraw-app\useHandleAppTheme.ts:13:35[90m)[39m
    at ExcalidrawWrapper [90m(E:\excalidraw\[39mexcalidraw-app\App.tsx:345:50[90m)[39m
    at Object.react-stack-bottom-frame [90m(E:\excalidraw\[39mnode_modules\[4mreact-dom[24m\cjs\react-dom-client.development.js:22428:20[90m)[39m
    at renderWithHooks [90m(E:\excalidraw\[39mnode_modules\[4mreact-dom[24m\cjs\react-dom-client.development.js:5757:22[90m)[39m
    at updateFunctionComponent [90m(E:\excalidraw\[39mnode_modules\[4mreact-dom[24m\cjs\react-dom-client.development.js:8018:19[90m)[39m {
  [stack]: [36m[Getter/Setter][39m,
  [message]: [32m'localStorage.getItem is not a function'[39m
}

The above error occurred in the <ExcalidrawWrapper> component.

React will try to recreate this component tree from scratch using the error boundary you provided, TopErrorBoundary.


 [31mâ¯[39m excalidraw-app/tests/MobileMenu.test.tsx [2m([22m[2m2 tests[22m[2m | [22m[31m2 failed[39m[2m)[22m[90m 22[2mms[22m[39m
[31m   [31mÃ—[31m Test MobileMenu[2m > [22mshould set editor interface correctly[90m 20[2mms[22m[31m[39m
[31m     â†’ Missing Provider from createIsolation[39m
[31m   [31mÃ—[31m Test MobileMenu[2m > [22mshould initialize with welcome screen and hide once user interacts[90m 2[2mms[22m[31m[39m
[31m     â†’ Missing Provider from createIsolation[39m
 [32mâœ“[39m packages/excalidraw/components/dropdownMenu/DropdownMenu.test.tsx [2m([22m[2m1 test[22m[2m)[22m[90m 111[2mms[22m[39m
 [32mâœ“[39m packages/element/tests/align.test.tsx [2m([22m[2m48 tests[22m[2m)[22m[33m 9723[2mms[22m[39m
   [33m[2mâœ“[22m[39m aligning[2m > [22maligns two objects correctly to the top [33m359[2mms[22m[39m
   [33m[2mâœ“[22m[39m aligning[2m > [22maligns two groups correctly to the top [33m303[2mms[22m[39m
   [33m[2mâœ“[22m[39m aligning[2m > [22maligns two groups correctly to the bottom [33m320[2mms[22m[39m
   [33m[2mâœ“[22m[39m aligning[2m > [22mcenters two groups correctly vertically [33m309[2mms[22m[39m
   [33m[2mâœ“[22m[39m aligning[2m > [22maligns nested group and other element correctly to the top [33m311[2mms[22m[39m
   [33m[2mâœ“[22m[39m aligning[2m > [22maligns nested group and other element correctly to the left [33m324[2mms[22m[39m
   [33m[2mâœ“[22m[39m aligning[2m > [22mcenters nested group and other element correctly vertically [33m339[2mms[22m[39m
[90mstderr[2m | packages/excalidraw/wysiwyg/textWysiwyg.test.tsx[2m > [22m[2mtextWysiwyg[2m > [22m[2mTest container-bound text[2m > [22m[2mshould reset the text element angle to the container's when binding to rotated non-arrow container
[22m[39m[33m<<< WARNING: test "textWysiwyg > Test container-bound text > should reset the text element angle to the container's when binding to rotated non-arrow container" does not wrap some state update in act() >>>[0m
[33m<<< WARNING: test "textWysiwyg > Test container-bound text > should reset the text element angle to the container's when binding to rotated non-arrow container" does not wrap some state update in act() >>>[0m
[33m<<< WARNING: test "textWysiwyg > Test container-bound text > should reset the text element angle to the container's when binding to rotated non-arrow container" does not wrap some state update in act() >>>[0m
[33m<<< WARNING: test "textWysiwyg > Test container-bound text > should reset the text element angle to the container's when binding to rotated non-arrow container" does not wrap some state update in act() >>>[0m
[33m<<< WARNING: test "textWysiwyg > Test container-bound text > should reset the text element angle to the container's when binding to rotated non-arrow container" does not wrap some state update in act() >>>[0m

[90mstderr[2m | packages/excalidraw/wysiwyg/textWysiwyg.test.tsx[2m > [22m[2mtextWysiwyg[2m > [22m[2mTest container-bound text[2m > [22m[2mshould reset the text element angle to 0 when binding to rotated arrow container
[22m[39m[33m<<< WARNING: test "textWysiwyg > Test container-bound text > should reset the text element angle to 0 when binding to rotated arrow container" does not wrap some state update in act() >>>[0m
[33m<<< WARNING: test "textWysiwyg > Test container-bound text > should reset the text element angle to 0 when binding to rotated arrow container" does not wrap some state update in act() >>>[0m
[33m<<< WARNING: test "textWysiwyg > Test container-bound text > should reset the text element angle to 0 when binding to rotated arrow container" does not wrap some state update in act() >>>[0m
[33m<<< WARNING: test "textWysiwyg > Test container-bound text > should reset the text element angle to 0 when binding to rotated arrow container" does not wrap some state update in act() >>>[0m
[33m<<< WARNING: test "textWysiwyg > Test container-bound text > should reset the text element angle to 0 when binding to rotated arrow container" does not wrap some state update in act() >>>[0m

 [32mâœ“[39m packages/excalidraw/wysiwyg/textWysiwyg.test.tsx [2m([22m[2m61 tests[22m[2m | [22m[33m1 skipped[39m[2m)[22m[33m 10050[2mms[22m[39m
   [33m[2mâœ“[22m[39m textWysiwyg[2m > [22mTest container-bound text[2m > [22mshould respect text alignment when resizing [33m548[2mms[22m[39m
 [32mâœ“[39m packages/excalidraw/tests/history.test.tsx [2m([22m[2m66 tests[22m[2m)[22m[33m 9593[2mms[22m[39m
   [33m[2mâœ“[22m[39m image insertion[2m > [22mshould eventually initialize all dropped images [33m306[2mms[22m[39m
   [33m[2mâœ“[22m[39m history[2m > [22msingleplayer undo/redo[2m > [22mshould not override appstate changes when redo stack is not cleared [33m355[2mms[22m[39m
   [33m[2mâœ“[22m[39m history[2m > [22msingleplayer undo/redo[2m > [22mshould support element creation, deletion and appstate element selection change [33m413[2mms[22m[39m
   [33m[2mâœ“[22m[39m history[2m > [22msingleplayer undo/redo[2m > [22mshould support linear element creation and points manipulation through the editor [33m389[2mms[22m[39m
   [33m[2mâœ“[22m[39m history[2m > [22msingleplayer undo/redo[2m > [22mshould support bidirectional bindings[2m > [22mshould unbind arrow from non deleted bindable elements on deletion and rebind on undo [33m329[2mms[22m[39m
   [33m[2mâœ“[22m[39m history[2m > [22msingleplayer undo/redo[2m > [22mshould support bidirectional bindings[2m > [22mshould unbind everything from non deleted elements when iterating through the whole undo stack and vice versa rebind everything on redo [33m376[2mms[22m[39m
   [33m[2mâœ“[22m[39m history[2m > [22msingleplayer undo/redo[2m > [22mshould support bidirectional bindings[2m > [22mshould unbind rectangle from arrow on deletion and rebind on undo [33m342[2mms[22m[39m
   [33m[2mâœ“[22m[39m history[2m > [22msingleplayer undo/redo[2m > [22mshould support bidirectional bindings[2m > [22mshould unbind rectangles from arrow on deletion and rebind on undo [33m344[2mms[22m[39m

[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[1m[7m Failed Suites 1 [27m[22mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m

[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/flip.test.tsx[2m > [22mimage
[31m[1mTypeError[22m: Cannot set properties of undefined (setting 'height')[39m
[36m [2mâ¯[22m packages/excalidraw/tests/flip.test.tsx:[2m762:13[22m[39m
    [90m760| [39m  [34mafterAll[39m(() [33m=>[39m {
    [90m761| [39m    vi[33m.[39m[34munstubAllGlobals[39m()[33m;[39m
    [90m762| [39m    h[33m.[39mstate[33m.[39mheight [33m=[39m [34m0[39m[33m;[39m
    [90m   | [39m            [31m^[39m
    [90m763| [39m  })[33m;[39m
    [90m764| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[1/392]âŽ¯[22m[39m


[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[1m[7m Failed Tests 323 [27m[22mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m

[31m[1m[7m FAIL [27m[22m[39m excalidraw-app/tests/collab.test.tsx[2m > [22mcollaboration[2m > [22mshould emit two ephemeral increments even though updates get batched
[31m[1m[7m FAIL [27m[22m[39m excalidraw-app/tests/collab.test.tsx[2m > [22mcollaboration[2m > [22mshould allow to undo / redo even on force-deleted elements
[31m[1m[7m FAIL [27m[22m[39m excalidraw-app/tests/LanguageList.test.tsx[2m > [22mTest LanguageList[2m > [22mrerenders UI on language change
[31m[1m[7m FAIL [27m[22m[39m excalidraw-app/tests/MobileMenu.test.tsx[2m > [22mTest MobileMenu[2m > [22mshould set editor interface correctly
[31m[1m[7m FAIL [27m[22m[39m excalidraw-app/tests/MobileMenu.test.tsx[2m > [22mTest MobileMenu[2m > [22mshould initialize with welcome screen and hide once user interacts
[31m[1mError[22m: Missing Provider from createIsolation[39m
[90m [2mâ¯[22m useStore node_modules/jotai-scope/src/createIsolation.tsx:[2m47:19[22m[39m
[90m [2mâ¯[22m Module.useAtomValue$1 node_modules/jotai-scope/src/createIsolation.tsx:[2m57:19[22m[39m
[36m [2mâ¯[22m Module.useI18n packages/excalidraw/i18n.ts:[2m170:20[22m[39m
    [90m168| [39m//   is memoized w/o being updated on `langCode`, `AppState`, or `UIApâ€¦
    [90m169| [39m[35mexport[39m [35mconst[39m useI18n [33m=[39m () [33m=>[39m {
    [90m170| [39m  [35mconst[39m langCode [33m=[39m [34museAtomValue[39m(editorLangCodeAtom)[33m;[39m
    [90m   | [39m                   [31m^[39m
    [90m171| [39m  [35mreturn[39m { t[33m,[39m langCode }[33m;[39m
    [90m172| [39m}[33m;[39m
[90m [2mâ¯[22m Trans packages/excalidraw/components/Trans.tsx:[2m161:17[22m[39m
[90m [2mâ¯[22m Object.react-stack-bottom-frame node_modules/react-dom/cjs/react-dom-client.development.js:[2m22428:20[22m[39m
[90m [2mâ¯[22m renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:[2m5757:22[22m[39m
[90m [2mâ¯[22m updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:[2m8018:19[22m[39m
[90m [2mâ¯[22m beginWork node_modules/react-dom/cjs/react-dom-client.development.js:[2m9683:18[22m[39m
[90m [2mâ¯[22m runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:[2m543:16[22m[39m
[90m [2mâ¯[22m performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:[2m15052:22[22m[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[2/392]âŽ¯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/collision.test.tsx[2m > [22mcheck rotated elements can be hit:[2m > [22marrow
[31m[1mTypeError[22m: localStorage.clear is not a function[39m
[36m [2mâ¯[22m packages/element/tests/collision.test.tsx:[2m11:18[22m[39m
    [90m  9| [39m[34mdescribe[39m([32m"check rotated elements can be hit:"[39m[33m,[39m () [33m=>[39m {
    [90m 10| [39m  [34mbeforeEach[39m([35masync[39m () [33m=>[39m {
    [90m 11| [39m    localStorage[33m.[39m[34mclear[39m()[33m;[39m
    [90m   | [39m                 [31m^[39m
    [90m 12| [39m    [35mawait[39m [34mrender[39m([33m<[39m[33mExcalidraw[39m [33mhandleKeyboardGlobally[39m[33m=[39m[33m{[39m[35mtrue[39m[33m}[39m [33m/[39m[33m>[39m)[33m;[39m
    [90m 13| [39m  })[33m;[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[3/392]âŽ¯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/cropElement.test.tsx[2m > [22mEnter and leave the crop editor[2m > [22menter the editor by double clicking
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/cropElement.test.tsx[2m > [22mEnter and leave the crop editor[2m > [22menter the editor by pressing enter
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/cropElement.test.tsx[2m > [22mEnter and leave the crop editor[2m > [22mleave the editor by clicking outside
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/cropElement.test.tsx[2m > [22mEnter and leave the crop editor[2m > [22mleave the editor by pressing escape
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/cropElement.test.tsx[2m > [22mCrop an image[2m > [22mCropping changes the dimension
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/cropElement.test.tsx[2m > [22mCrop an image[2m > [22mCropping has minimal sizes
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/cropElement.test.tsx[2m > [22mCrop an image[2m > [22mPreserve aspect ratio
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/cropElement.test.tsx[2m > [22mCropping and other features[2m > [22mCropping works independently of duplication
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/cropElement.test.tsx[2m > [22mCropping and other features[2m > [22mResizing should not affect crop
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/cropElement.test.tsx[2m > [22mCropping and other features[2m > [22mFlipping does not change crop
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/cropElement.test.tsx[2m > [22mCropping and other features[2m > [22mExports should preserve crops
[31m[1mTypeError[22m: localStorage.clear is not a function[39m
[36m [2mâ¯[22m packages/element/tests/cropElement.test.tsx:[2m38:16[22m[39m
    [90m 36| [39m
    [90m 37| [39m  mouse[33m.[39m[34mreset[39m()[33m;[39m
    [90m 38| [39m  localStorage[33m.[39m[34mclear[39m()[33m;[39m
    [90m   | [39m               [31m^[39m
    [90m 39| [39m  sessionStorage[33m.[39m[34mclear[39m()[33m;[39m
    [90m 40| [39m  vi[33m.[39m[34mclearAllMocks[39m()[33m;[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[4/392]âŽ¯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/elbowArrow.test.tsx[2m > [22melbow arrow segment move[2m > [22mcan move the second segment of a fully connected elbow arrow
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/elbowArrow.test.tsx[2m > [22melbow arrow segment move[2m > [22mcan move the second segment of an unconnected elbow arrow
[31m[1mTypeError[22m: localStorage.clear is not a function[39m
[36m [2mâ¯[22m packages/element/tests/elbowArrow.test.tsx:[2m34:18[22m[39m
    [90m 32| [39m[34mdescribe[39m([32m"elbow arrow segment move"[39m[33m,[39m () [33m=>[39m {
    [90m 33| [39m  [34mbeforeEach[39m([35masync[39m () [33m=>[39m {
    [90m 34| [39m    localStorage[33m.[39m[34mclear[39m()[33m;[39m
    [90m   | [39m                 [31m^[39m
    [90m 35| [39m    [35mawait[39m [34mrender[39m([33m<[39m[33mExcalidraw[39m [33mhandleKeyboardGlobally[39m[33m=[39m[33m{[39m[35mtrue[39m[33m}[39m [33m/[39m[33m>[39m)[33m;[39m
    [90m 36| [39m  })[33m;[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[5/392]âŽ¯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/elbowArrow.test.tsx[2m > [22melbow arrow routing[2m > [22mcan properly generate orthogonal arrow points
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/elbowArrow.test.tsx[2m > [22melbow arrow routing[2m > [22mcan generate proper points for bound elbow arrow
[31m[1mTypeError[22m: localStorage.clear is not a function[39m
[36m [2mâ¯[22m packages/element/tests/elbowArrow.test.tsx:[2m135:18[22m[39m
    [90m133| [39m[34mdescribe[39m([32m"elbow arrow routing"[39m[33m,[39m () [33m=>[39m {
    [90m134| [39m  [34mbeforeEach[39m([35masync[39m () [33m=>[39m {
    [90m135| [39m    localStorage[33m.[39m[34mclear[39m()[33m;[39m
    [90m   | [39m                 [31m^[39m
    [90m136| [39m    [35mawait[39m [34mrender[39m([33m<[39m[33mExcalidraw[39m [33mhandleKeyboardGlobally[39m[33m=[39m[33m{[39m[35mtrue[39m[33m}[39m [33m/[39m[33m>[39m)[33m;[39m
    [90m137| [39m  })[33m;[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[6/392]âŽ¯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/elbowArrow.test.tsx[2m > [22melbow arrow ui[2m > [22mcan follow bound shapes
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/elbowArrow.test.tsx[2m > [22melbow arrow ui[2m > [22mcan follow bound rotated shapes
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/elbowArrow.test.tsx[2m > [22melbow arrow ui[2m > [22mkeeps arrow shape when the whole set of arrow and bindables are duplicated
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/elbowArrow.test.tsx[2m > [22melbow arrow ui[2m > [22mchanges arrow shape to unbind variant if only the connected elbow arrow is duplicated
[31m[1mTypeError[22m: localStorage.clear is not a function[39m
[36m [2mâ¯[22m packages/element/tests/elbowArrow.test.tsx:[2m211:18[22m[39m
    [90m209| [39m[34mdescribe[39m([32m"elbow arrow ui"[39m[33m,[39m () [33m=>[39m {
    [90m210| [39m  [34mbeforeEach[39m([35masync[39m () [33m=>[39m {
    [90m211| [39m    localStorage[33m.[39m[34mclear[39m()[33m;[39m
    [90m   | [39m                 [31m^[39m
    [90m212| [39m    [35mawait[39m [34mrender[39m([33m<[39m[33mExcalidraw[39m [33mhandleKeyboardGlobally[39m[33m=[39m[33m{[39m[35mtrue[39m[33m}[39m [33m/[39m[33m>[39m)[33m;[39m
    [90m213| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[7/392]âŽ¯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/flowchart.test.tsx[2m > [22mflow chart creation[2m > [22mcreate multiple successor nodes at once
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/flowchart.test.tsx[2m > [22mflow chart creation[2m > [22mwhen directions are changed, only the last same directions will apply
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/flowchart.test.tsx[2m > [22mflow chart creation[2m > [22mwhen escaped, no nodes will be created
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/flowchart.test.tsx[2m > [22mflow chart creation[2m > [22mcreate nodes one at a time
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/flowchart.test.tsx[2m > [22mflow chart navigation[2m > [22msingle node at each level
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/flowchart.test.tsx[2m > [22mflow chart navigation[2m > [22mmultiple nodes at each level
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/flowchart.test.tsx[2m > [22mflow chart navigation[2m > [22mtake the most obvious link when possible
[31m[1mTypeError[22m: localStorage.clear is not a function[39m
[36m [2mâ¯[22m packages/element/tests/flowchart.test.tsx:[2m18:16[22m[39m
    [90m 16| [39m
    [90m 17| [39m[34mbeforeEach[39m([35masync[39m () [33m=>[39m {
    [90m 18| [39m  localStorage[33m.[39m[34mclear[39m()[33m;[39m
    [90m   | [39m               [31m^[39m
    [90m 19| [39m  [34mreseed[39m([34m7[39m)[33m;[39m
    [90m 20| [39m  mouse[33m.[39m[34mreset[39m()[33m;[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[8/392]âŽ¯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/linearElementEditor.test.tsx[2m > [22mTest Linear Elements[2m > [22mshould normalize the element points at creation
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/linearElementEditor.test.tsx[2m > [22mTest Linear Elements[2m > [22mshould not drag line and add midpoint until dragged beyond a threshold
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/linearElementEditor.test.tsx[2m > [22mTest Linear Elements[2m > [22mshould allow dragging line from midpoint in 2 pointer lines outside editor
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/linearElementEditor.test.tsx[2m > [22mTest Linear Elements[2m > [22mshould allow entering and exiting line editor via context menu
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/linearElementEditor.test.tsx[2m > [22mTest Linear Elements[2m > [22mshould enter line editor via enter (line)
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/linearElementEditor.test.tsx[2m > [22mTest Linear Elements[2m > [22mshould enter line editor via ctrl+enter (line)
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/linearElementEditor.test.tsx[2m > [22mTest Linear Elements[2m > [22mshould enter line editor via ctrl+enter (arrow)
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/linearElementEditor.test.tsx[2m > [22mTest Linear Elements[2m > [22mshould enter line editor on ctrl+dblclick (simple arrow)
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/linearElementEditor.test.tsx[2m > [22mTest Linear Elements[2m > [22mshould enter line editor on ctrl+dblclick (line)
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/linearElementEditor.test.tsx[2m > [22mTest Linear Elements[2m > [22mshould enter line editor on dblclick (line)
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/linearElementEditor.test.tsx[2m > [22mTest Linear Elements[2m > [22mshould not enter line editor on dblclick (arrow)
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/linearElementEditor.test.tsx[2m > [22mTest Linear Elements[2m > [22mshouldn't create text element on double click in line editor (arrow)
[31m[1mTypeError[22m: localStorage.clear is not a function[39m
[36m [2mâ¯[22m packages/element/tests/linearElementEditor.test.tsx:[2m62:18[22m[39m
    [90m 60| [39m  [34mbeforeEach[39m([35masync[39m () [33m=>[39m {
    [90m 61| [39m    [34munmountComponent[39m()[33m;[39m
    [90m 62| [39m    localStorage[33m.[39m[34mclear[39m()[33m;[39m
    [90m   | [39m                 [31m^[39m
    [90m 63| [39m    renderInteractiveScene[33m.[39m[34mmockClear[39m()[33m;[39m
    [90m 64| [39m    renderStaticScene[33m.[39m[34mmockClear[39m()[33m;[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[9/392]âŽ¯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/linearElementEditor.test.tsx[2m > [22mTest Linear Elements[2m > [22mInside editor[2m > [22mshould not drag line and add midpoint when dragged irrespective of threshold
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/linearElementEditor.test.tsx[2m > [22mTest Linear Elements[2m > [22mInside editor[2m > [22mshould allow dragging line from midpoint in 2 pointer lines
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/linearElementEditor.test.tsx[2m > [22mTest Linear Elements[2m > [22mInside editor[2m > [22mshould update the midpoints when element roundness changed
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/linearElementEditor.test.tsx[2m > [22mTest Linear Elements[2m > [22mInside editor[2m > [22mshould update all the midpoints when element position changed
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/linearElementEditor.test.tsx[2m > [22mTest Linear Elements[2m > [22mInside editor[2m > [22mWhen edges are round[2m > [22mshould allow dragging lines from midpoints in between segments
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/linearElementEditor.test.tsx[2m > [22mTest Linear Elements[2m > [22mInside editor[2m > [22mWhen edges are round[2m > [22mshould update only the first segment midpoint when its point is dragged
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/linearElementEditor.test.tsx[2m > [22mTest Linear Elements[2m > [22mInside editor[2m > [22mWhen edges are round[2m > [22mshould hide midpoints in the segment when points moved close
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/linearElementEditor.test.tsx[2m > [22mTest Linear Elements[2m > [22mInside editor[2m > [22mWhen edges are round[2m > [22mshould remove the midpoint when one of the points in the segment is deleted
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/linearElementEditor.test.tsx[2m > [22mTest Linear Elements[2m > [22mInside editor[2m > [22mWhen edges are round[2m > [22mshould allow dragging lines from midpoints in between segments
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/linearElementEditor.test.tsx[2m > [22mTest Linear Elements[2m > [22mInside editor[2m > [22mWhen edges are round[2m > [22mshould update all the midpoints when its point is dragged
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/linearElementEditor.test.tsx[2m > [22mTest Linear Elements[2m > [22mInside editor[2m > [22mWhen edges are round[2m > [22mshould hide midpoints in the segment when points moved close
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/linearElementEditor.test.tsx[2m > [22mTest Linear Elements[2m > [22mInside editor[2m > [22mWhen edges are round[2m > [22mshould update all the midpoints when a point is deleted
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/linearElementEditor.test.tsx[2m > [22mTest Linear Elements[2m > [22mInside editor[2m > [22min-editor dragging a line point covered by another element
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/linearElementEditor.test.tsx[2m > [22mTest Linear Elements[2m > [22mTest bound text element[2m > [22mTest getBoundTextElementPosition[2m > [22mshould return correct position for 2 pointer arrow
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/linearElementEditor.test.tsx[2m > [22mTest Linear Elements[2m > [22mTest bound text element[2m > [22mTest getBoundTextElementPosition[2m > [22mshould return correct position for arrow with odd points
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/linearElementEditor.test.tsx[2m > [22mTest Linear Elements[2m > [22mTest bound text element[2m > [22mTest getBoundTextElementPosition[2m > [22mshould return correct position for arrow with even points
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/linearElementEditor.test.tsx[2m > [22mTest Linear Elements[2m > [22mTest bound text element[2m > [22mshould match styles for text editor
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/linearElementEditor.test.tsx[2m > [22mTest Linear Elements[2m > [22mTest bound text element[2m > [22mshould bind text to arrow when double clicked
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/linearElementEditor.test.tsx[2m > [22mTest Linear Elements[2m > [22mTest bound text element[2m > [22mshould bind text to arrow when clicked on arrow and enter pressed
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/linearElementEditor.test.tsx[2m > [22mTest Linear Elements[2m > [22mTest bound text element[2m > [22mshould not bind text to line when double clicked
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/linearElementEditor.test.tsx[2m > [22mTest Linear Elements[2m > [22mTest bound text element[2m > [22mshould resize and position the bound text and bounding box correctly when 3 pointer arrow element resized
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/linearElementEditor.test.tsx[2m > [22mTest Linear Elements[2m > [22mTest bound text element[2m > [22mshould resize and position the bound text correctly when 2 pointer linear element resized
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/linearElementEditor.test.tsx[2m > [22mTest Linear Elements[2m > [22mTest bound text element[2m > [22mshould not render vertical align tool when element selected
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/linearElementEditor.test.tsx[2m > [22mTest Linear Elements[2m > [22mTest bound text element[2m > [22mshould wrap the bound text when arrow bound container moves
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/linearElementEditor.test.tsx[2m > [22mTest Linear Elements[2m > [22mTest bound text element[2m > [22mshould not render horizontal align tool when element selected
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/linearElementEditor.test.tsx[2m > [22mTest Linear Elements[2m > [22mTest bound text element[2m > [22mshould update label coords when a label binded via context menu is unbinded
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/linearElementEditor.test.tsx[2m > [22mTest Linear Elements[2m > [22mTest bound text element[2m > [22mshould not update label position when arrow dragged
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/linearElementEditor.test.tsx[2m > [22mTest Linear Elements[2m > [22mTest moving linear element points[2m > [22mshould move the endpoint in the negative direction correctly when the start point is also moved in the positive direction
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/linearElementEditor.test.tsx[2m > [22mTest Linear Elements[2m > [22mTest moving linear element points[2m > [22mshould preserve original angle when dragging endpoint with SHIFT key
[31m[1mTypeError[22m: localStorage.clear is not a function[39m
[36m [2mâ¯[22m packages/element/tests/linearElementEditor.test.tsx:[2m62:18[22m[39m
    [90m 60| [39m  [34mbeforeEach[39m([35masync[39m () [33m=>[39m {
    [90m 61| [39m    [34munmountComponent[39m()[33m;[39m
    [90m 62| [39m    localStorage[33m.[39m[34mclear[39m()[33m;[39m
    [90m   | [39m                 [31m^[39m
    [90m 63| [39m    renderInteractiveScene[33m.[39m[34mmockClear[39m()[33m;[39m
    [90m 64| [39m    renderStaticScene[33m.[39m[34mmockClear[39m()[33m;[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[10/392]âŽ¯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/resize.test.tsx[2m > [22mgeneric element[2m > [22mresizes[2m > [22mwith handle 'n'
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/resize.test.tsx[2m > [22mgeneric element[2m > [22mresizes[2m > [22mwith handle 'e'
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/resize.test.tsx[2m > [22mgeneric element[2m > [22mresizes[2m > [22mwith handle 's'
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/resize.test.tsx[2m > [22mgeneric element[2m > [22mresizes[2m > [22mwith handle 'w'
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/resize.test.tsx[2m > [22mgeneric element[2m > [22mresizes[2m > [22mwith handle 'ne'
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/resize.test.tsx[2m > [22mgeneric element[2m > [22mresizes[2m > [22mwith handle 'se'
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/resize.test.tsx[2m > [22mgeneric element[2m > [22mresizes[2m > [22mwith handle 'sw'
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/resize.test.tsx[2m > [22mgeneric element[2m > [22mresizes[2m > [22mwith handle 'nw'
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/resize.test.tsx[2m > [22mgeneric element[2m > [22mflips while resizing[2m > [22mwith handle 'n'
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/resize.test.tsx[2m > [22mgeneric element[2m > [22mflips while resizing[2m > [22mwith handle 'e'
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/resize.test.tsx[2m > [22mgeneric element[2m > [22mflips while resizing[2m > [22mwith handle 's'
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/resize.test.tsx[2m > [22mgeneric element[2m > [22mflips while resizing[2m > [22mwith handle 'w'
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/resize.test.tsx[2m > [22mgeneric element[2m > [22mflips while resizing[2m > [22mwith handle 'ne'
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/resize.test.tsx[2m > [22mgeneric element[2m > [22mflips while resizing[2m > [22mwith handle 'se'
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/resize.test.tsx[2m > [22mgeneric element[2m > [22mflips while resizing[2m > [22mwith handle 'sw'
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/resize.test.tsx[2m > [22mgeneric element[2m > [22mflips while resizing[2m > [22mwith handle 'nw'
[31m[1mTypeError[22m: localStorage.clear is not a function[39m
[36m [2mâ¯[22m packages/element/tests/resize.test.tsx:[2m57:16[22m[39m
    [90m 55| [39m
    [90m 56| [39m[34mbeforeEach[39m([35masync[39m () [33m=>[39m {
    [90m 57| [39m  localStorage[33m.[39m[34mclear[39m()[33m;[39m
    [90m   | [39m               [31m^[39m
    [90m 58| [39m  [34mreseed[39m([34m7[39m)[33m;[39m
    [90m 59| [39m  mouse[33m.[39m[34mreset[39m()[33m;[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[11/392]âŽ¯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/resize.test.tsx[2m > [22mgeneric element[2m > [22mresizes with locked aspect ratio
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/resize.test.tsx[2m > [22mgeneric element[2m > [22mresizes from center
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/resize.test.tsx[2m > [22mgeneric element[2m > [22mresizes with a label
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/resize.test.tsx[2m > [22mline element[2m > [22mresizes
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/resize.test.tsx[2m > [22mline element[2m > [22mflips while resizing
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/resize.test.tsx[2m > [22mline element[2m > [22mresizes with locked aspect ratio
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/resize.test.tsx[2m > [22mline element[2m > [22mresizes from center
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/resize.test.tsx[2m > [22mfreedraw element[2m > [22mresizes
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/resize.test.tsx[2m > [22mfreedraw element[2m > [22mflips while resizing
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/resize.test.tsx[2m > [22mfreedraw element[2m > [22mresizes with locked aspect ratio
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/resize.test.tsx[2m > [22mfreedraw element[2m > [22mresizes from center
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/resize.test.tsx[2m > [22mline element[2m > [22mresizes
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/resize.test.tsx[2m > [22mline element[2m > [22mflips while resizing
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/resize.test.tsx[2m > [22mline element[2m > [22mresizes with locked aspect ratio
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/resize.test.tsx[2m > [22mline element[2m > [22mresizes from center
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/resize.test.tsx[2m > [22marrow element[2m > [22mresizes with a label
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/resize.test.tsx[2m > [22marrow element[2m > [22mflips the fixed point binding on negative resize for single bindable
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/resize.test.tsx[2m > [22marrow element[2m > [22mflips the fixed point binding on negative resize for group selection
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/resize.test.tsx[2m > [22mtext element[2m > [22mresizes
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/resize.test.tsx[2m > [22mtext element[2m > [22mupdates font size via keyboard
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/resize.test.tsx[2m > [22mtext element[2m > [22mcan be resized from e
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/resize.test.tsx[2m > [22mtext element[2m > [22mcan be resized from w
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/resize.test.tsx[2m > [22mtext element[2m > [22mwraps when width is narrower than texts inside
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/resize.test.tsx[2m > [22mtext element[2m > [22mkeeps properties when wrapped
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/resize.test.tsx[2m > [22mtext element[2m > [22mhas a minimum width when wrapped
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/resize.test.tsx[2m > [22mimage element[2m > [22mresizes
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/resize.test.tsx[2m > [22mimage element[2m > [22mflips while resizing
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/resize.test.tsx[2m > [22mimage element[2m > [22mresizes with locked/unlocked aspect ratio
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/resize.test.tsx[2m > [22mimage element[2m > [22mresizes from center
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/resize.test.tsx[2m > [22mmultiple selection[2m > [22mresizes with generic elements
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/resize.test.tsx[2m > [22mmultiple selection[2m > [22mresizes with linear elements > 2 points
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/resize.test.tsx[2m > [22mmultiple selection[2m > [22mresizes with 2-point lines
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/resize.test.tsx[2m > [22mmultiple selection[2m > [22mresizes with labeled arrows
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/resize.test.tsx[2m > [22mmultiple selection[2m > [22mresizes with text elements
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/resize.test.tsx[2m > [22mmultiple selection[2m > [22mresizes with images (proportional)
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/resize.test.tsx[2m > [22mmultiple selection[2m > [22mresizes from center
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/resize.test.tsx[2m > [22mmultiple selection[2m > [22mflips while resizing
[31m[1mTypeError[22m: localStorage.clear is not a function[39m
[36m [2mâ¯[22m packages/element/tests/resize.test.tsx:[2m57:16[22m[39m
    [90m 55| [39m
    [90m 56| [39m[34mbeforeEach[39m([35masync[39m () [33m=>[39m {
    [90m 57| [39m  localStorage[33m.[39m[34mclear[39m()[33m;[39m
    [90m   | [39m               [31m^[39m
    [90m 58| [39m  [34mreseed[39m([34m7[39m)[33m;[39m
    [90m 59| [39m  mouse[33m.[39m[34mreset[39m()[33m;[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[12/392]âŽ¯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/zindex.test.tsx[2m > [22mz-index manipulation[2m > [22msend back
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/zindex.test.tsx[2m > [22mz-index manipulation[2m > [22mbring forward
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/zindex.test.tsx[2m > [22mz-index manipulation[2m > [22mbring to front
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/zindex.test.tsx[2m > [22mz-index manipulation[2m > [22msend to back
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/zindex.test.tsx[2m > [22mz-index manipulation[2m > [22mduplicating elements should retain zindex integrity
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/zindex.test.tsx[2m > [22mz-index manipulation[2m > [22mduplicating incorrectly interleaved elements (group elements should be together) should still produce reasonable result
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/zindex.test.tsx[2m > [22mz-index manipulation[2m > [22mgroup-selected duplication should includes deleted elements that weren't selected on account of being deleted
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/zindex.test.tsx[2m > [22mz-index manipulation[2m > [22mtext-container binding should be atomic
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/zindex.test.tsx[2m > [22mz-indexing with frames[2m > [22mmoving whole frame by one (normalized)
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/zindex.test.tsx[2m > [22mz-indexing with frames[2m > [22mmoving whole frame by one (DENORMALIZED)
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/zindex.test.tsx[2m > [22mz-indexing with frames[2m > [22mmoving selected frame children by one (normalized)
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/zindex.test.tsx[2m > [22mz-indexing with frames[2m > [22mmoving selected frame children by one (DENORMALIZED)
[31m[1m[7m FAIL [27m[22m[39m packages/element/tests/zindex.test.tsx[2m > [22mz-indexing with frames[2m > [22mmoving whole frame to front/end
[31m[1mTypeError[22m: localStorage.clear is not a function[39m
[36m [2mâ¯[22m packages/element/tests/zindex.test.tsx:[2m34:16[22m[39m
    [90m 32| [39m
    [90m 33| [39m[34mbeforeEach[39m(() [33m=>[39m {
    [90m 34| [39m  localStorage[33m.[39m[34mclear[39m()[33m;[39m
    [90m   | [39m               [31m^[39m
    [90m 35| [39m  [34mreseed[39m([34m7[39m)[33m;[39m
    [90m 36| [39m})[33m;[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[13/392]âŽ¯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/App.test.tsx[2m > [22mTest <App/>[2m > [22mshould show error modal when using brave and measureText API is not working
[31m[1mTypeError[22m: localStorage.clear is not a function[39m
[36m [2mâ¯[22m packages/excalidraw/tests/App.test.tsx:[2m15:18[22m[39m
    [90m 13| [39m  [34mbeforeEach[39m([35masync[39m () [33m=>[39m {
    [90m 14| [39m    [34munmountComponent[39m()[33m;[39m
    [90m 15| [39m    localStorage[33m.[39m[34mclear[39m()[33m;[39m
    [90m   | [39m                 [31m^[39m
    [90m 16| [39m    renderStaticScene[33m.[39m[34mmockClear[39m()[33m;[39m
    [90m 17| [39m    [34mreseed[39m([34m7[39m)[33m;[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[14/392]âŽ¯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/clipboard.test.tsx[2m > [22mgeneral paste behavior[2m > [22mshould randomize seed on paste
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/clipboard.test.tsx[2m > [22mgeneral paste behavior[2m > [22mshould retain seed on shift-paste
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/clipboard.test.tsx[2m > [22mpaste text as single lines[2m > [22mshould create an element for each line when copying with Ctrl/Cmd+V
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/clipboard.test.tsx[2m > [22mpaste text as single lines[2m > [22mshould ignore empty lines when creating an element for each line
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/clipboard.test.tsx[2m > [22mpaste text as single lines[2m > [22mshould not create any element if clipboard has only new lines
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/clipboard.test.tsx[2m > [22mpaste text as single lines[2m > [22mshould space items correctly
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/clipboard.test.tsx[2m > [22mpaste text as single lines[2m > [22mshould leave a space for blank new lines
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/clipboard.test.tsx[2m > [22mpaste text as a single element[2m > [22mshould create single text element when copying text with Ctrl/Cmd+Shift+V
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/clipboard.test.tsx[2m > [22mpaste text as a single element[2m > [22mshould not create any element when only new lines in clipboard
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/clipboard.test.tsx[2m > [22mPaste bound text container[2m > [22mshould fix ellipse bounding box
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/clipboard.test.tsx[2m > [22mPaste bound text container[2m > [22mshould fix diamond bounding box
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/clipboard.test.tsx[2m > [22mpasting & frames[2m > [22mshould add pasted elements to frame under cursor
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/clipboard.test.tsx[2m > [22mpasting & frames[2m > [22mshould remove element from frame when pasted outside
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/clipboard.test.tsx[2m > [22mpasting & frames[2m > [22mshould filter out elements not overlapping frame
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/clipboard.test.tsx[2m > [22mpasting & frames[2m > [22mshould not filter out elements not overlapping frame if part of group
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/clipboard.test.tsx[2m > [22mpasting & frames[2m > [22mshould not filter out other frames and their children
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/clipboard.test.tsx[2m > [22mclipboard - pasting mermaid definition[2m > [22mshould detect and paste as mermaid
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/clipboard.test.tsx[2m > [22mclipboard - pasting mermaid definition[2m > [22mshould support directives
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/clipboard.test.tsx[2m > [22mclipboard - pasting mermaid definition[2m > [22mshould paste as normal text if invalid mermaid
[31m[1mTypeError[22m: localStorage.clear is not a function[39m
[36m [2mâ¯[22m packages/excalidraw/tests/clipboard.test.tsx:[2m77:16[22m[39m
    [90m 75| [39m  [34munmountComponent[39m()[33m;[39m
    [90m 76| [39m
    [90m 77| [39m  localStorage[33m.[39m[34mclear[39m()[33m;[39m
    [90m   | [39m               [31m^[39m
    [90m 78| [39m
    [90m 79| [39m  mouse[33m.[39m[34mreset[39m()[33m;[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[15/392]âŽ¯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/contextmenu.test.tsx[2m > [22mcontextMenu element[2m > [22mshows context menu for canvas
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/contextmenu.test.tsx[2m > [22mcontextMenu element[2m > [22mshows context menu for element
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/contextmenu.test.tsx[2m > [22mcontextMenu element[2m > [22mshows context menu for element
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/contextmenu.test.tsx[2m > [22mcontextMenu element[2m > [22mshows 'Group selection' in context menu for multiple selected elements
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/contextmenu.test.tsx[2m > [22mcontextMenu element[2m > [22mshows 'Ungroup selection' in context menu for group inside selected elements
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/contextmenu.test.tsx[2m > [22mcontextMenu element[2m > [22mselecting 'Copy styles' in context menu copies styles
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/contextmenu.test.tsx[2m > [22mcontextMenu element[2m > [22mselecting 'Paste styles' in context menu pastes styles
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/contextmenu.test.tsx[2m > [22mcontextMenu element[2m > [22mselecting 'Delete' in context menu deletes element
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/contextmenu.test.tsx[2m > [22mcontextMenu element[2m > [22mselecting 'Add to library' in context menu adds element to library
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/contextmenu.test.tsx[2m > [22mcontextMenu element[2m > [22mselecting 'Duplicate' in context menu duplicates element
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/contextmenu.test.tsx[2m > [22mcontextMenu element[2m > [22mselecting 'Send backward' in context menu sends element backward
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/contextmenu.test.tsx[2m > [22mcontextMenu element[2m > [22mselecting 'Bring forward' in context menu brings element forward
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/contextmenu.test.tsx[2m > [22mcontextMenu element[2m > [22mselecting 'Send to back' in context menu sends element to back
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/contextmenu.test.tsx[2m > [22mcontextMenu element[2m > [22mselecting 'Bring to front' in context menu brings element to front
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/contextmenu.test.tsx[2m > [22mcontextMenu element[2m > [22mselecting 'Group selection' in context menu groups selected elements
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/contextmenu.test.tsx[2m > [22mcontextMenu element[2m > [22mselecting 'Ungroup selection' in context menu ungroups selected group
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/contextmenu.test.tsx[2m > [22mcontextMenu element[2m > [22mright-clicking on a group should select whole group
[31m[1mTypeError[22m: localStorage.clear is not a function[39m
[36m [2mâ¯[22m packages/excalidraw/tests/contextmenu.test.tsx:[2m51:16[22m[39m
    [90m 49| [39m[35mconst[39m renderStaticScene [33m=[39m vi[33m.[39m[34mspyOn[39m([33mStaticScene[39m[33m,[39m [32m"renderStaticScene"[39m)[33m;[39m
    [90m 50| [39m[34mbeforeEach[39m(() [33m=>[39m {
    [90m 51| [39m  localStorage[33m.[39m[34mclear[39m()[33m;[39m
    [90m   | [39m               [31m^[39m
    [90m 52| [39m  renderStaticScene[33m.[39m[34mmockClear[39m()[33m;[39m
    [90m 53| [39m  [34mreseed[39m([34m7[39m)[33m;[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[16/392]âŽ¯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/contextmenu.test.tsx[2m > [22mcontextMenu element[2m > [22mshows context menu for canvas
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/contextmenu.test.tsx[2m > [22mcontextMenu element[2m > [22mshows context menu for element
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/contextmenu.test.tsx[2m > [22mcontextMenu element[2m > [22mshows context menu for element
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/contextmenu.test.tsx[2m > [22mcontextMenu element[2m > [22mshows 'Group selection' in context menu for multiple selected elements
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/contextmenu.test.tsx[2m > [22mcontextMenu element[2m > [22mshows 'Ungroup selection' in context menu for group inside selected elements
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/contextmenu.test.tsx[2m > [22mcontextMenu element[2m > [22mselecting 'Copy styles' in context menu copies styles
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/contextmenu.test.tsx[2m > [22mcontextMenu element[2m > [22mselecting 'Paste styles' in context menu pastes styles
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/contextmenu.test.tsx[2m > [22mcontextMenu element[2m > [22mselecting 'Delete' in context menu deletes element
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/contextmenu.test.tsx[2m > [22mcontextMenu element[2m > [22mselecting 'Add to library' in context menu adds element to library
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/contextmenu.test.tsx[2m > [22mcontextMenu element[2m > [22mselecting 'Duplicate' in context menu duplicates element
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/contextmenu.test.tsx[2m > [22mcontextMenu element[2m > [22mselecting 'Send backward' in context menu sends element backward
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/contextmenu.test.tsx[2m > [22mcontextMenu element[2m > [22mselecting 'Bring forward' in context menu brings element forward
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/contextmenu.test.tsx[2m > [22mcontextMenu element[2m > [22mselecting 'Send to back' in context menu sends element to back
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/contextmenu.test.tsx[2m > [22mcontextMenu element[2m > [22mselecting 'Bring to front' in context menu brings element to front
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/contextmenu.test.tsx[2m > [22mcontextMenu element[2m > [22mselecting 'Group selection' in context menu groups selected elements
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/contextmenu.test.tsx[2m > [22mcontextMenu element[2m > [22mselecting 'Ungroup selection' in context menu ungroups selected group
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/contextmenu.test.tsx[2m > [22mcontextMenu element[2m > [22mright-clicking on a group should select whole group
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'length')[39m
[36m [2mâ¯[22m checkpoint packages/excalidraw/tests/contextmenu.test.tsx:[2m37:21[22m[39m
    [90m 35| [39m  )[33m;[39m
    [90m 36| [39m  [34mexpect[39m(h[33m.[39mstate)[33m.[39m[34mtoMatchSnapshot[39m([32m`[[39m[36m${[39mname[36m}[39m[32m] appState`[39m)[33m;[39m
    [90m 37| [39m  expect(h.elements.length).toMatchSnapshot(`[${name}] number of elemeâ€¦
    [90m   | [39m                    [31m^[39m
    [90m 38| [39m  h[33m.[39melements[33m.[39m[34mforEach[39m((element[33m,[39m i) [33m=>[39m
    [90m 39| [39m    [34mexpect[39m(element)[33m.[39m[34mtoMatchSnapshot[39m([32m`[[39m[36m${[39mname[36m}[39m[32m] element [39m[36m${[39mi[36m}[39m[32m`[39m)[33m,[39m
[90m [2mâ¯[22m packages/excalidraw/tests/contextmenu.test.tsx:[2m77:5[22m[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[17/392]âŽ¯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/dragCreate.test.tsx[2m > [22mTest dragCreate[2m > [22madd element to the scene when pointer dragging long enough[2m > [22mrectangle
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/dragCreate.test.tsx[2m > [22mTest dragCreate[2m > [22madd element to the scene when pointer dragging long enough[2m > [22mellipse
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/dragCreate.test.tsx[2m > [22mTest dragCreate[2m > [22madd element to the scene when pointer dragging long enough[2m > [22mdiamond
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/dragCreate.test.tsx[2m > [22mTest dragCreate[2m > [22madd element to the scene when pointer dragging long enough[2m > [22marrow
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/dragCreate.test.tsx[2m > [22mTest dragCreate[2m > [22madd element to the scene when pointer dragging long enough[2m > [22mline
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/dragCreate.test.tsx[2m > [22mTest dragCreate[2m > [22mdo not add element to the scene if size is too small[2m > [22mrectangle
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/dragCreate.test.tsx[2m > [22mTest dragCreate[2m > [22mdo not add element to the scene if size is too small[2m > [22mellipse
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/dragCreate.test.tsx[2m > [22mTest dragCreate[2m > [22mdo not add element to the scene if size is too small[2m > [22mdiamond
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/dragCreate.test.tsx[2m > [22mTest dragCreate[2m > [22mdo not add element to the scene if size is too small[2m > [22marrow
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/dragCreate.test.tsx[2m > [22mTest dragCreate[2m > [22mdo not add element to the scene if size is too small[2m > [22mline
[31m[1mTypeError[22m: localStorage.clear is not a function[39m
[36m [2mâ¯[22m packages/excalidraw/tests/dragCreate.test.tsx:[2m29:16[22m[39m
    [90m 27| [39m
    [90m 28| [39m[34mbeforeEach[39m(() [33m=>[39m {
    [90m 29| [39m  localStorage[33m.[39m[34mclear[39m()[33m;[39m
    [90m   | [39m               [31m^[39m
    [90m 30| [39m  renderInteractiveScene[33m.[39m[34mmockClear[39m()[33m;[39m
    [90m 31| [39m  renderStaticScene[33m.[39m[34mmockClear[39m()[33m;[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[18/392]âŽ¯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/flip.test.tsx[2m > [22mrectangle[2m > [22mflips an unrotated rectangle horizontally correctly
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/flip.test.tsx[2m > [22mrectangle[2m > [22mflips an unrotated rectangle vertically correctly
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/flip.test.tsx[2m > [22mrectangle[2m > [22mflips a rotated rectangle horizontally correctly
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/flip.test.tsx[2m > [22mrectangle[2m > [22mflips a rotated rectangle vertically correctly
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/flip.test.tsx[2m > [22mdiamond[2m > [22mflips an unrotated diamond horizontally correctly
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/flip.test.tsx[2m > [22mdiamond[2m > [22mflips an unrotated diamond vertically correctly
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/flip.test.tsx[2m > [22mdiamond[2m > [22mflips a rotated diamond horizontally correctly
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/flip.test.tsx[2m > [22mdiamond[2m > [22mflips a rotated diamond vertically correctly
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/flip.test.tsx[2m > [22mellipse[2m > [22mflips an unrotated ellipse horizontally correctly
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/flip.test.tsx[2m > [22mellipse[2m > [22mflips an unrotated ellipse vertically correctly
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/flip.test.tsx[2m > [22mellipse[2m > [22mflips a rotated ellipse horizontally correctly
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/flip.test.tsx[2m > [22mellipse[2m > [22mflips a rotated ellipse vertically correctly
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/flip.test.tsx[2m > [22marrow[2m > [22mflips an unrotated arrow horizontally with line inside min/max points bounds
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/flip.test.tsx[2m > [22marrow[2m > [22mflips an unrotated arrow vertically with line inside min/max points bounds
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/flip.test.tsx[2m > [22marrow[2m > [22mflips a rotated arrow horizontally with line inside min/max points bounds
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/flip.test.tsx[2m > [22marrow[2m > [22mflips a rotated arrow vertically with line inside min/max points bounds
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/flip.test.tsx[2m > [22marrow[2m > [22mflips an unrotated arrow horizontally correctly
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/flip.test.tsx[2m > [22marrow[2m > [22mflips an unrotated arrow vertically correctly
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/flip.test.tsx[2m > [22marrow[2m > [22mflips a two points arrow horizontally correctly
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/flip.test.tsx[2m > [22marrow[2m > [22mflips a two points arrow vertically correctly
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/flip.test.tsx[2m > [22mline[2m > [22mflips an unrotated line horizontally with line inside min/max points bounds
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/flip.test.tsx[2m > [22mline[2m > [22mflips an unrotated line vertically with line inside min/max points bounds
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/flip.test.tsx[2m > [22mline[2m > [22mflips an unrotated line horizontally correctly
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/flip.test.tsx[2m > [22mline[2m > [22mflips an unrotated line vertically correctly
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/flip.test.tsx[2m > [22mline[2m > [22mflips a rotated line horizontally with line inside min/max points bounds
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/flip.test.tsx[2m > [22mline[2m > [22mflips a rotated line vertically with line inside min/max points bounds
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/flip.test.tsx[2m > [22mline[2m > [22mflips a two points line horizontally correctly
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/flip.test.tsx[2m > [22mline[2m > [22mflips a two points line vertically correctly
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/flip.test.tsx[2m > [22mfreedraw[2m > [22mflips an unrotated drawing horizontally correctly
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/flip.test.tsx[2m > [22mfreedraw[2m > [22mflips an unrotated drawing vertically correctly
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/flip.test.tsx[2m > [22mfreedraw[2m > [22mflips a rotated drawing horizontally correctly
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/flip.test.tsx[2m > [22mfreedraw[2m > [22mflips a rotated drawing vertically correctly
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/flip.test.tsx[2m > [22mimage[2m > [22mflips an unrotated image horizontally correctly
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/flip.test.tsx[2m > [22mimage[2m > [22mflips an unrotated image vertically correctly
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/flip.test.tsx[2m > [22mimage[2m > [22mflips an rotated image horizontally correctly
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/flip.test.tsx[2m > [22mimage[2m > [22mflips an rotated image vertically correctly
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/flip.test.tsx[2m > [22mimage[2m > [22mflips an image both vertically & horizontally
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/flip.test.tsx[2m > [22mmutliple elements[2m > [22mwith bound text flip correctly
[31m[1mTypeError[22m: localStorage.clear is not a function[39m
[36m [2mâ¯[22m packages/excalidraw/tests/flip.test.tsx:[2m61:16[22m[39m
    [90m 59| [39m
    [90m 60| [39m  mouse[33m.[39m[34mreset[39m()[33m;[39m
    [90m 61| [39m  localStorage[33m.[39m[34mclear[39m()[33m;[39m
    [90m   | [39m               [31m^[39m
    [90m 62| [39m  sessionStorage[33m.[39m[34mclear[39m()[33m;[39m
    [90m 63| [39m  vi[33m.[39m[34mclearAllMocks[39m()[33m;[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[19/392]âŽ¯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/lasso.test.tsx[2m > [22mBasic lasso selection tests[2m > [22mNone should be selected
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/lasso.test.tsx[2m > [22mBasic lasso selection tests[2m > [22mIntersects some, does not enclose/intersect the rest
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/lasso.test.tsx[2m > [22mBasic lasso selection tests[2m > [22mIntersects some and encloses some
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/lasso.test.tsx[2m > [22mBasic lasso selection tests[2m > [22mSingle linear element
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/lasso.test.tsx[2m > [22mSpecial cases[2m > [22mSelect only frame if its children are also selected
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/lasso.test.tsx[2m > [22mSpecial cases[2m > [22mSelects group if any group from group is selected
[31m[1mTypeError[22m: localStorage.clear is not a function[39m
[36m [2mâ¯[22m packages/excalidraw/tests/lasso.test.tsx:[2m40:16[22m[39m
    [90m 38| [39m
    [90m 39| [39m[34mbeforeEach[39m([35masync[39m () [33m=>[39m {
    [90m 40| [39m  localStorage[33m.[39m[34mclear[39m()[33m;[39m
    [90m   | [39m               [31m^[39m
    [90m 41| [39m  [35mawait[39m [34mrender[39m([33m<[39m[33mExcalidraw[39m [33mhandleKeyboardGlobally[39m[33m=[39m[33m{[39m[35mtrue[39m[33m}[39m [33m/[39m[33m>[39m)[33m;[39m
    [90m 42| [39m  h[33m.[39mstate[33m.[39mwidth [33m=[39m [34m1000[39m[33m;[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[20/392]âŽ¯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/move.test.tsx[2m > [22mmove element[2m > [22mrectangle
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/move.test.tsx[2m > [22mmove element[2m > [22mrectangles with binding arrow
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/move.test.tsx[2m > [22mduplicate element on move when ALT is clicked[2m > [22mrectangle
[31m[1mTypeError[22m: localStorage.clear is not a function[39m
[36m [2mâ¯[22m packages/excalidraw/tests/move.test.tsx:[2m28:16[22m[39m
    [90m 26| [39m
    [90m 27| [39m[34mbeforeEach[39m(() [33m=>[39m {
    [90m 28| [39m  localStorage[33m.[39m[34mclear[39m()[33m;[39m
    [90m   | [39m               [31m^[39m
    [90m 29| [39m  renderInteractiveScene[33m.[39m[34mmockClear[39m()[33m;[39m
    [90m 30| [39m  renderStaticScene[33m.[39m[34mmockClear[39m()[33m;[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[21/392]âŽ¯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/multiPointCreate.test.tsx[2m > [22mremove shape in non linear elements[2m > [22mrectangle
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/multiPointCreate.test.tsx[2m > [22mremove shape in non linear elements[2m > [22mellipse
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/multiPointCreate.test.tsx[2m > [22mremove shape in non linear elements[2m > [22mdiamond
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/multiPointCreate.test.tsx[2m > [22mmulti point mode in linear elements[2m > [22marrow
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/multiPointCreate.test.tsx[2m > [22mmulti point mode in linear elements[2m > [22mline
[31m[1mTypeError[22m: localStorage.clear is not a function[39m
[36m [2mâ¯[22m packages/excalidraw/tests/multiPointCreate.test.tsx:[2m30:16[22m[39m
    [90m 28| [39m
    [90m 29| [39m[34mbeforeEach[39m(() [33m=>[39m {
    [90m 30| [39m  localStorage[33m.[39m[34mclear[39m()[33m;[39m
    [90m   | [39m               [31m^[39m
    [90m 31| [39m  renderInteractiveScene[33m.[39m[34mmockClear[39m()[33m;[39m
    [90m 32| [39m  renderStaticScene[33m.[39m[34mmockClear[39m()[33m;[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[22/392]âŽ¯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mdraw every type of shape
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mclick to select a shape
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mkey 2 selects rectangle tool
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mkey r selects rectangle tool
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mkey 3 selects diamond tool
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mkey d selects diamond tool
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mkey 4 selects ellipse tool
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mkey o selects ellipse tool
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mkey 5 selects arrow tool
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mkey a selects arrow tool
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mkey 6 selects line tool
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mkey l selects line tool
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mkey 7 selects freedraw tool
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mkey p selects freedraw tool
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mchange the properties of a shape
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mclick on an element and drag it
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22malt-drag duplicates an element
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mclick-drag to select a group
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mshift-click to multiselect, then drag
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mpinch-to-zoom works
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mtwo-finger scroll works
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mspacebar + drag scrolls the canvas
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22marrow keys
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mundo/redo drawing an element
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mnoop interaction after undo shouldn't create history entry
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mzoom hotkeys
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mmake a group and duplicate it
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mshould group elements and ungroup them
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mdouble click to edit a group
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22madjusts z order when grouping
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22msupports nested groups
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mupdates fontSize & fontFamily appState
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mdeselects selected element, on pointer up, when click hits element bounding box but doesn't hit the element
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mswitches selected element on pointer down
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mcan drag element that covers another element, while another elem is selected
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mdeselects selected element on pointer down when pointer doesn't hit any element
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mDrags selected element when hitting only bounding box and keeps element selected
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mgiven selected element A with lower z-index than unselected element B and given B is partially over A when clicking intersection between A and B B should be selected on pointer up
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mgiven selected element A with lower z-index than unselected element B and given B is partially over A when dragging on intersection between A and B A should be dragged and keep being selected
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mdeselects group of selected elements on pointer down when pointer doesn't hit any element
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mswitches from group of selected elements to another element on pointer down
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mdeselects group of selected elements on pointer up when pointer hits common bounding box without hitting any element
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mdrags selected elements from point inside common bounding box that doesn't hit any element and keeps elements selected after dragging
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mgiven a group of selected elements with an element that is not selected inside the group common bounding box when element that is not selected is clicked should switch selection to not selected element on pointer up
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mgiven a selected element A and a not selected element B with higher z-index than A and given B partially overlaps A when there's a shift-click on the overlapped section B is added to the selection
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mshift click on selected element should deselect it on pointer up
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22msingle-clicking on a subgroup of a selected group should not alter selection
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mdeleting last but one element in editing group should unselect the group
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mCmd/Ctrl-click exclusively select element under pointer
[31m[1mTypeError[22m: localStorage.clear is not a function[39m
[36m [2mâ¯[22m packages/excalidraw/tests/regressionTests.test.tsx:[2m59:16[22m[39m
    [90m 57| [39m  [34munmountComponent[39m()[33m;[39m
    [90m 58| [39m
    [90m 59| [39m  localStorage[33m.[39m[34mclear[39m()[33m;[39m
    [90m   | [39m               [31m^[39m
    [90m 60| [39m  renderStaticScene[33m.[39m[34mmockClear[39m()[33m;[39m
    [90m 61| [39m  [34mreseed[39m([34m7[39m)[33m;[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[23/392]âŽ¯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mdraw every type of shape
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mclick to select a shape
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mkey 2 selects rectangle tool
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mkey r selects rectangle tool
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mkey 3 selects diamond tool
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mkey d selects diamond tool
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mkey 4 selects ellipse tool
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mkey o selects ellipse tool
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mkey 5 selects arrow tool
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mkey a selects arrow tool
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mkey 6 selects line tool
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mkey l selects line tool
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mkey 7 selects freedraw tool
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mkey p selects freedraw tool
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mchange the properties of a shape
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mclick on an element and drag it
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22malt-drag duplicates an element
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mclick-drag to select a group
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mshift-click to multiselect, then drag
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mpinch-to-zoom works
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mtwo-finger scroll works
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mspacebar + drag scrolls the canvas
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22marrow keys
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mundo/redo drawing an element
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mnoop interaction after undo shouldn't create history entry
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mzoom hotkeys
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mmake a group and duplicate it
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mshould group elements and ungroup them
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mdouble click to edit a group
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22madjusts z order when grouping
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22msupports nested groups
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mupdates fontSize & fontFamily appState
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mdeselects selected element, on pointer up, when click hits element bounding box but doesn't hit the element
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mswitches selected element on pointer down
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mcan drag element that covers another element, while another elem is selected
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mdeselects selected element on pointer down when pointer doesn't hit any element
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mDrags selected element when hitting only bounding box and keeps element selected
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mgiven selected element A with lower z-index than unselected element B and given B is partially over A when clicking intersection between A and B B should be selected on pointer up
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mgiven selected element A with lower z-index than unselected element B and given B is partially over A when dragging on intersection between A and B A should be dragged and keep being selected
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mdeselects group of selected elements on pointer down when pointer doesn't hit any element
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mswitches from group of selected elements to another element on pointer down
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mdeselects group of selected elements on pointer up when pointer hits common bounding box without hitting any element
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mdrags selected elements from point inside common bounding box that doesn't hit any element and keeps elements selected after dragging
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mgiven a group of selected elements with an element that is not selected inside the group common bounding box when element that is not selected is clicked should switch selection to not selected element on pointer up
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mgiven a selected element A and a not selected element B with higher z-index than A and given B partially overlaps A when there's a shift-click on the overlapped section B is added to the selection
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mshift click on selected element should deselect it on pointer up
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22msingle-clicking on a subgroup of a selected group should not alter selection
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mdeleting last but one element in editing group should unselect the group
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mregression tests[2m > [22mCmd/Ctrl-click exclusively select element under pointer
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'length')[39m
[36m [2mâ¯[22m checkpoint packages/excalidraw/tests/regressionTests.test.tsx:[2m49:21[22m[39m
    [90m 47| [39m  )[33m;[39m
    [90m 48| [39m  [34mexpect[39m(h[33m.[39mstate)[33m.[39m[34mtoMatchSnapshot[39m([32m`[[39m[36m${[39mname[36m}[39m[32m] appState`[39m)[33m;[39m
    [90m 49| [39m  expect(h.elements.length).toMatchSnapshot(`[${name}] number of elemeâ€¦
    [90m   | [39m                    [31m^[39m
    [90m 50| [39m  h[33m.[39melements[33m.[39m[34mforEach[39m((element[33m,[39m i) [33m=>[39m
    [90m 51| [39m    [34mexpect[39m(element)[33m.[39m[34mtoMatchSnapshot[39m([32m`[[39m[36m${[39mname[36m}[39m[32m] element [39m[36m${[39mi[36m}[39m[32m`[39m)[33m,[39m
[90m [2mâ¯[22m packages/excalidraw/tests/regressionTests.test.tsx:[2m73:3[22m[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[24/392]âŽ¯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mgiven element A and group of elements B and given both are selected when user clicks on B, on pointer up only elements from B should be selected
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mgiven element A and group of elements B and given both are selected when user shift-clicks on B, on pointer up only element A should be selected
[31m[1mTypeError[22m: localStorage.clear is not a function[39m
[36m [2mâ¯[22m packages/excalidraw/tests/regressionTests.test.tsx:[2m59:16[22m[39m
    [90m 57| [39m  [34munmountComponent[39m()[33m;[39m
    [90m 58| [39m
    [90m 59| [39m  localStorage[33m.[39m[34mclear[39m()[33m;[39m
    [90m   | [39m               [31m^[39m
    [90m 60| [39m  renderStaticScene[33m.[39m[34mmockClear[39m()[33m;[39m
    [90m 61| [39m  [34mreseed[39m([34m7[39m)[33m;[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[25/392]âŽ¯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mgiven element A and group of elements B and given both are selected when user clicks on B, on pointer up only elements from B should be selected
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/regressionTests.test.tsx[2m > [22mgiven element A and group of elements B and given both are selected when user shift-clicks on B, on pointer up only element A should be selected
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'length')[39m
[36m [2mâ¯[22m checkpoint packages/excalidraw/tests/regressionTests.test.tsx:[2m49:21[22m[39m
    [90m 47| [39m  )[33m;[39m
    [90m 48| [39m  [34mexpect[39m(h[33m.[39mstate)[33m.[39m[34mtoMatchSnapshot[39m([32m`[[39m[36m${[39mname[36m}[39m[32m] appState`[39m)[33m;[39m
    [90m 49| [39m  expect(h.elements.length).toMatchSnapshot(`[${name}] number of elemeâ€¦
    [90m   | [39m                    [31m^[39m
    [90m 50| [39m  h[33m.[39melements[33m.[39m[34mforEach[39m((element[33m,[39m i) [33m=>[39m
    [90m 51| [39m    [34mexpect[39m(element)[33m.[39m[34mtoMatchSnapshot[39m([32m`[[39m[36m${[39mname[36m}[39m[32m] element [39m[36m${[39mi[36m}[39m[32m`[39m)[33m,[39m
[90m [2mâ¯[22m packages/excalidraw/tests/regressionTests.test.tsx:[2m73:3[22m[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[26/392]âŽ¯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/rotate.test.tsx[2m > [22munselected bound arrow updates when rotating its target element
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/rotate.test.tsx[2m > [22munselected bound arrows update when rotating their target elements
[31m[1mTypeError[22m: localStorage.clear is not a function[39m
[36m [2mâ¯[22m packages/excalidraw/tests/rotate.test.tsx:[2m14:16[22m[39m
    [90m 12| [39m
    [90m 13| [39m[34mbeforeEach[39m(() [33m=>[39m {
    [90m 14| [39m  localStorage[33m.[39m[34mclear[39m()[33m;[39m
    [90m   | [39m               [31m^[39m
    [90m 15| [39m  [34mreseed[39m([34m7[39m)[33m;[39m
    [90m 16| [39m})[33m;[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[27/392]âŽ¯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/selection.test.tsx[2m > [22mbox-selection[2m > [22mshould allow adding to selection via box-select when holding shift
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/selection.test.tsx[2m > [22mbox-selection[2m > [22mshould (de)select element when box-selecting over and out while not holding shift
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/selection.test.tsx[2m > [22minner box-selection[2m > [22mselecting elements visually nested inside another
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/selection.test.tsx[2m > [22minner box-selection[2m > [22mselecting grouped elements visually nested inside another
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/selection.test.tsx[2m > [22minner box-selection[2m > [22mselecting & deselecting grouped elements visually nested inside another
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/selection.test.tsx[2m > [22mselection element[2m > [22mcreate selection element on pointer down
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/selection.test.tsx[2m > [22mselection element[2m > [22mresize selection element on pointer move
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/selection.test.tsx[2m > [22mselection element[2m > [22mremove selection element on pointer up
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/selection.test.tsx[2m > [22mselect single element on the scene[2m > [22mrectangle
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/selection.test.tsx[2m > [22mselect single element on the scene[2m > [22mdiamond
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/selection.test.tsx[2m > [22mselect single element on the scene[2m > [22mellipse
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/selection.test.tsx[2m > [22mselect single element on the scene[2m > [22marrow
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/selection.test.tsx[2m > [22mselect single element on the scene[2m > [22marrow escape
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/selection.test.tsx[2m > [22mtool locking & selection[2m > [22mshould not select newly created element while tool is locked
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/tests/selection.test.tsx[2m > [22mselectedElementIds stability[2m > [22mbox-selection should be stable when not changing selection
[31m[1mTypeError[22m: localStorage.clear is not a function[39m
[36m [2mâ¯[22m packages/excalidraw/tests/selection.test.tsx:[2m32:16[22m[39m
    [90m 30| [39m
    [90m 31| [39m[34mbeforeEach[39m(() [33m=>[39m {
    [90m 32| [39m  localStorage[33m.[39m[34mclear[39m()[33m;[39m
    [90m   | [39m               [31m^[39m
    [90m 33| [39m  renderInteractiveScene[33m.[39m[34mmockClear[39m()[33m;[39m
    [90m 34| [39m  renderStaticScene[33m.[39m[34mmockClear[39m()[33m;[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[28/392]âŽ¯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/components/Stats/stats.test.tsx[2m > [22mbinding with linear elements[2m > [22mshould remain bound to linear element on small position change
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/components/Stats/stats.test.tsx[2m > [22mbinding with linear elements[2m > [22mshould unbind linear element on large position change
[31m[1mTypeError[22m: localStorage.clear is not a function[39m
[36m [2mâ¯[22m packages/excalidraw/components/Stats/stats.test.tsx:[2m94:18[22m[39m
    [90m 92| [39m[34mdescribe[39m([32m"binding with linear elements"[39m[33m,[39m () [33m=>[39m {
    [90m 93| [39m  [34mbeforeEach[39m([35masync[39m () [33m=>[39m {
    [90m 94| [39m    localStorage[33m.[39m[34mclear[39m()[33m;[39m
    [90m   | [39m                 [31m^[39m
    [90m 95| [39m    renderStaticScene[33m.[39m[34mmockClear[39m()[33m;[39m
    [90m 96| [39m    [34mreseed[39m([34m19[39m)[33m;[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[29/392]âŽ¯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/components/Stats/stats.test.tsx[2m > [22mstats for a generic element[2m > [22mshould open stats
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/components/Stats/stats.test.tsx[2m > [22mstats for a generic element[2m > [22mshould be able to edit all properties for a general element
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/components/Stats/stats.test.tsx[2m > [22mstats for a generic element[2m > [22mshould keep only two decimal places
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/components/Stats/stats.test.tsx[2m > [22mstats for a generic element[2m > [22mshould update input x and y when angle is changed
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/components/Stats/stats.test.tsx[2m > [22mstats for a generic element[2m > [22mshould fix top left corner when width or height is changed
[31m[1mTypeError[22m: localStorage.clear is not a function[39m
[36m [2mâ¯[22m packages/excalidraw/components/Stats/stats.test.tsx:[2m158:18[22m[39m
    [90m156| [39m[34mdescribe[39m([32m"stats for a generic element"[39m[33m,[39m () [33m=>[39m {
    [90m157| [39m  [34mbeforeEach[39m([35masync[39m () [33m=>[39m {
    [90m158| [39m    localStorage[33m.[39m[34mclear[39m()[33m;[39m
    [90m   | [39m                 [31m^[39m
    [90m159| [39m    renderStaticScene[33m.[39m[34mmockClear[39m()[33m;[39m
    [90m160| [39m    [34mreseed[39m([34m7[39m)[33m;[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[30/392]âŽ¯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/components/Stats/stats.test.tsx[2m > [22mstats for a non-generic element[2m > [22mtext element
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/components/Stats/stats.test.tsx[2m > [22mstats for a non-generic element[2m > [22mframe element
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/components/Stats/stats.test.tsx[2m > [22mstats for a non-generic element[2m > [22mimage element
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/components/Stats/stats.test.tsx[2m > [22mstats for a non-generic element[2m > [22mshould display fontSize for bound text
[31m[1mTypeError[22m: localStorage.clear is not a function[39m
[36m [2mâ¯[22m packages/excalidraw/components/Stats/stats.test.tsx:[2m332:18[22m[39m
    [90m330| [39m[34mdescribe[39m([32m"stats for a non-generic element"[39m[33m,[39m () [33m=>[39m {
    [90m331| [39m  [34mbeforeEach[39m([35masync[39m () [33m=>[39m {
    [90m332| [39m    localStorage[33m.[39m[34mclear[39m()[33m;[39m
    [90m   | [39m                 [31m^[39m
    [90m333| [39m    renderStaticScene[33m.[39m[34mmockClear[39m()[33m;[39m
    [90m334| [39m    [34mreseed[39m([34m7[39m)[33m;[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[31/392]âŽ¯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/components/Stats/stats.test.tsx[2m > [22mstats for multiple elements[2m > [22mshould display MIXED for elements with different values
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/components/Stats/stats.test.tsx[2m > [22mstats for multiple elements[2m > [22mshould display a property when one of the elements is editable for that property
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/components/Stats/stats.test.tsx[2m > [22mstats for multiple elements[2m > [22mshould treat groups as single units
[31m[1mTypeError[22m: localStorage.clear is not a function[39m
[36m [2mâ¯[22m packages/excalidraw/components/Stats/stats.test.tsx:[2m490:18[22m[39m
    [90m488| [39m  [34mbeforeEach[39m([35masync[39m () [33m=>[39m {
    [90m489| [39m    mouse[33m.[39m[34mreset[39m()[33m;[39m
    [90m490| [39m    localStorage[33m.[39m[34mclear[39m()[33m;[39m
    [90m   | [39m                 [31m^[39m
    [90m491| [39m    renderStaticScene[33m.[39m[34mmockClear[39m()[33m;[39m
    [90m492| [39m    [34mreseed[39m([34m7[39m)[33m;[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[32/392]âŽ¯[22m[39m

[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/components/Stats/stats.test.tsx[2m > [22mframe resizing behavior[2m > [22mshould add shapes to frame when resizing frame to encompass them
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/components/Stats/stats.test.tsx[2m > [22mframe resizing behavior[2m > [22mshould add multiple shapes when frame encompasses them through height resize
[31m[1m[7m FAIL [27m[22m[39m packages/excalidraw/components/Stats/stats.test.tsx[2m > [22mframe resizing behavior[2m > [22mshould not affect shapes that remain outside frame after resize
[31m[1mTypeError[22m: localStorage.clear is not a function[39m
[36m [2mâ¯[22m packages/excalidraw/components/Stats/stats.test.tsx:[2m721:18[22m[39m
    [90m719| [39m[34mdescribe[39m([32m"frame resizing behavior"[39m[33m,[39m () [33m=>[39m {
    [90m720| [39m  [34mbeforeEach[39m([35masync[39m () [33m=>[39m {
    [90m721| [39m    localStorage[33m.[39m[34mclear[39m()[33m;[39m
    [90m   | [39m                 [31m^[39m
    [90m722| [39m    renderStaticScene[33m.[39m[34mmockClear[39m()[33m;[39m
    [90m723| [39m    [34mreseed[39m([34m7[39m)[33m;[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[33/392]âŽ¯[22m[39m


[2m Test Files [22m [1m[31m22 failed[39m[22m[2m | [22m[1m[32m67 passed[39m[22m[90m (89)[39m
[2m      Tests [22m [1m[31m323 failed[39m[22m[2m | [22m[1m[32m709 passed[39m[22m[2m | [22m[33m46 skipped[39m[2m | [22m[90m1 todo[39m[90m (1079)[39m
[2m   Start at [22m 12:33:52
[2m   Duration [22m 15.80s[2m (transform 8.33s, setup 21.72s, collect 153.13s, tests 69.10s, environment 86.39s, prepare 17.39s)[22m

error Command failed with exit code 1.
info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.
